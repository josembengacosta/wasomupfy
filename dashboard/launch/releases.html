<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="robots" content="noindex, nofollow" />
    <meta name="author" content="Voosoft" />
    <meta name="theme-color" content="#FF0089" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <link
      rel="apple-touch-icon"
      href="../../assets/img/icones/wasomupfy_fiv_512.png"
    />
    <link
      rel="apple-touch-startup-image"
      href="../../assets/img/screenshots/splash.png"
    />
    <link rel="manifest" href="../manifest.json" />
    <title>Lançamentos - Wasom Upfy</title>
    <link
      rel="shortcut icon"
      href="../../assets/img/icones/wasomupfy_fiv.png"
      type="image/x-icon"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/simplebar@6.2.5/dist/simplebar.min.css"
    />
    <link
      href="
https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css
"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css"
    />
    <link rel="stylesheet" href="../../css/dashboard-style.css" />
    <!-- Select2 Bootstrap 5 Theme (opcional, para melhor integração) -->
    <link
      href="https://cdn.jsdelivr.net/npm/select2-bootstrap-5-theme@1.3.0/dist/select2-bootstrap-5-theme.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/11.0.2/css/bootstrap-slider.min.css"
      rel="stylesheet"
    />
    <!-- Toastr -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <link rel="stylesheet" href="../../css/release-style.css" />
  </head>

  <body>
    <!-- Tela de Carregamento -->
    <!-- <div class="loading-screen" id="loadingScreen">
        <svg width="120" height="40" viewBox="0 0 120 40" xmlns="http://www.w3.org/2000/svg" class="loading-logo">
            <rect x="2" y="2" width="116" height="36" rx="5" fill="none" stroke="#ff0089" stroke-width="2"/>
            <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#ff0089" text-anchor="middle" dominant-baseline="middle">WASOM UPFY</text>
        </svg>
        <div class="spinner"></div>
    </div> -->

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg">
      <div class="container-fluid">
        <!-- Menu Button (Left) -->
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="offcanvas"
          data-bs-target="#offcanvasMenu"
          aria-controls="offcanvasMenu"
        >
          <span class="navbar-toggler-icon"
            ><i class="bi bi-list text-white fs-1"></i
          ></span>
        </button>

        <!-- Logo (Center on Mobile, Left on Desktop) -->
        <a class="navbar-brand" href="../painel.html">
          <!-- SVG Logo Wasom Upfy -->
          <!-- <svg width="120" height="40" viewBox="0 0 120 40" xmlns="http://www.w3.org/2000/svg">
                    <rect x="2" y="2" width="116" height="36" rx="5" fill="none" stroke="#ff0089" stroke-width="2" />
                    <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="20" font-weight="bold"
                        fill="#ff0089" text-anchor="middle" dominant-baseline="middle">WASOM UPFY</text>
                </svg> -->
          <span
            class="text-light"
            style="
              font-weight: bold;
              box-sizing: border-box;
              text-transform: capitalize;
              font-family: Arial, sans-serif;
            "
            >WASOM UPFY</span
          >
        </a>

        <!-- Desktop Menu -->
        <div class="collapse navbar-collapse">
          <ul class="navbar-nav m-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link" href="../painel.html"
                ><i class="bi bi-speedometer2"></i> Dashboard</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../launch/releases.html"
                ><i class="bi bi-disc"></i> Lançamentos</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../analytics/statistics.html"
                ><i class="bi bi-bar-chart"></i> Estatísticas</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../finances/overview.html"
                ><i class="bi bi-currency-dollar"></i> Finanças</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../artists/artists-list.html"
                ><i class="bi bi-person"></i> Artistas</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="youtube.html"
                ><i class="bi bi-youtube"></i> Unificação de canal YouTube</a
              >
            </li>
          </ul>
        </div>

        <!-- User Icon (Right) -->
        <div class="user-menu d-flex align-items-center">
          <!-- Theme Toggle Button -->
          <a class="theme-toggle text-white me-2" id="themeToggle">
            <i class="bi bi-sun" id="themeIcon"></i>
          </a>
          <a
            href="../notifications.html"
            class="text-white me-2"
            aria-label="Notificações"
          >
            <i class="bi bi-bell fs-4"></i>
            <span class="badge bg-danger">9</span>
          </a>
          <a href="#" class="text-white" data-bs-toggle="dropdown">
            <i class="bi bi-person-circle fs-4"></i>
          </a>
          <ul class="dropdown-menu dropdown-menu-end">
            <li>
              <a class="dropdown-item" href="../user/profile.html"
                ><i class="bi bi-person me-2"></i>
                <strong>Eleven Records</strong></a
              >
              <div class="text-white-50">
                &nbsp; &nbsp; &nbsp; &nbsp; (Conta 560108)
              </div>
            </li>
            <li>
              <hr class="dropdown-divider" />
            </li>
            <li>
              <a class="dropdown-item" href="../user/profile.html"
                ><i class="bi bi-person me-2"></i> Meu Perfil</a
              >
            </li>
            <li>
              <a class="dropdown-item" href="../account/manage-account.html"
                ><i class="bi bi-tools me-2"></i> Gestão de Conta</a
              >
            </li>
            <li>
              <hr class="dropdown-divider" />
            </li>
            <li>
              <a class="dropdown-item" href="../page/settings.html"
                ><i class="bi bi-gear me-2"></i> Configurações</a
              >
            </li>
            <li>
              <a class="dropdown-item" href="../page/notifications.html"
                ><i class="bi bi-bell me-2"></i> Notificações</a
              >
            </li>
            <li>
              <a class="dropdown-item" href="../page/plans.html"
                ><i class="bi bi-star me-2"></i> Planos</a
              >
            </li>
            <li>
              <a
                class="dropdown-item"
                href="#?logout-wasomupfy"
                data-bs-toggle="modal"
                data-bs-target="#logoutwasomupfy"
                ><i class="bi bi-box-arrow-right me-2"></i> Desconectar-se</a
              >
            </li>
            <li>
              <hr class="dropdown-divider" />
            </li>
            <li>
              <a class="dropdown-item" href="../page/sobre.html"
                ><i class="bi bi-info-circle me-2"></i> Sobre</a
              >
            </li>
            <li>
              <a class="dropdown-item" href="../page/support.html"
                ><i class="bi bi-headset me-2"></i> Enviar pedido de suporte</a
              >
            </li>
            <li>
              <a class="dropdown-item" href="../page/faq.html"
                ><i class="bi bi-chat-left-text me-2"></i> Perguntas
                frequentes</a
              >
            </li>
            <li>
              <a class="dropdown-item" href="../page/help.html"
                ><i class="bi bi-question-circle me-2"></i> Ajuda</a
              >
            </li>
            <li>
              <hr class="dropdown-divider" />
            </li>
            <li>
              <span class="dropdown-item-text" id="versionDropdown"></span>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Modal logout -->
    <div
      class="modal fade"
      id="logoutwasomupfy"
      data-bs-backdrop="static"
      data-bs-keyboard="false"
      tabindex="-1"
      aria-labelledby="logoutwasomupfyLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5 text-dark" id="logoutwasomupfyLabel">
              Terminar sessão
            </h1>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <div class="container">
              <div class="row justify-content-center text-center">
                <div
                  class="col-md-12 content-center justify-center text-center"
                >
                  <p class="text-center text-dark">
                    @josembengadacosta você tem certeza de que desejas terminar
                    sessão?
                  </p>
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <div>
              <button
                type="button"
                class="btn btn-primary"
                data-bs-dismiss="modal"
              >
                Não, continuar
              </button>
            </div>
            <div>
              <button
                class="btn btn-danger"
                type="button"
                name="logout_wasomupfy"
                onclick="logout_wasomupfy()"
              >
                Sim, terminar sessão
              </button>
            </div>
            <script type="text/javascript">
              function logout_wasomupfy() {
                window.location = "../logout";
              }
            </script>
          </div>
        </div>
      </div>
    </div>
    <!-- Modal logout fim -->

    <!-- Offcanvas Menu para Mobile e Desktop -->
    <div
      class="offcanvas offcanvas-start"
      tabindex="-1"
      id="offcanvasMenu"
      aria-labelledby="offcanvasMenuLabel"
    >
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasMenuLabel">
          <!-- <svg width="120" height="40" viewBox="0 0 120 40" xmlns="http://www.w3.org/2000/svg">
                    <rect x="2" y="2" width="116" height="36" rx="5" fill="none" stroke="#ff0089" stroke-width="2" />
                    <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="20" font-weight="bold"
                        fill="#ff0089" text-anchor="middle" dominant-baseline="middle">WASOM UPFY</text>
                </svg> -->
          <span
            class="text-light"
            style="
              font-weight: bold;
              box-sizing: border-box;
              text-transform: capitalize;
              font-family: Arial, sans-serif;
            "
            >WASOM UPFY</span
          >
        </h5>
        <button
          type="button"
          class="btn-close text-white"
          data-bs-dismiss="offcanvas"
          aria-label="Close"
        >
          <i class="bi bi-x-lg"></i>
        </button>
      </div>
      <div class="offcanvas-body">
        <ul class="nav flex-column">
          <li class="nav-item">
            <a class="nav-link" href="../painel.html"
              ><i class="bi bi-speedometer2"></i> Dashboard</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../launch/releases.html"
              ><i class="bi bi-disc"></i> Lançamentos</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../analytics/statistics.html"
              ><i class="bi bi-bar-chart"></i> Estatísticas</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../finances/overview.html"
              ><i class="bi bi-currency-dollar"></i> Finanças</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../artists/artists-list.html"
              ><i class="bi bi-person"></i> Artistas</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../youtube.html"
              ><i class="bi bi-youtube"></i> Unificação de canal YouTube</a
            >
          </li>
          <!-- Links secundários exibidos apenas em mobile -->
          <li class="nav-item d-lg-none">
            <a class="nav-link" href="../user/profile.html"
              ><i class="bi bi-person-circle"></i> Meu Perfil</a
            >
          </li>
          <li class="nav-item d-lg-none">
            <a class="nav-link active" href="../page/settings.html"
              ><i class="bi bi-gear"></i> Configurações</a
            >
          </li>
          <li class="nav-item d-lg-none">
            <a class="nav-link" href="../page/notifications.html"
              ><i class="bi bi-bell"></i> Notificações</a
            >
          </li>
          <li class="nav-item d-lg-none">
            <a class="nav-link" href="../page/sobre.html"
              ><i class="bi bi-info-circle"></i> Sobre</a
            >
          </li>
          <li class="nav-item d-lg-none">
            <a class="nav-link" href="../services/available-services.html"
              ><i class="bi bi-star"></i> Conta e serviços disponíveis</a
            >
          </li>
          <li class="nav-item d-lg-none">
            <a class="nav-link" href="../page/help.html"
              ><i class="bi bi-question-circle"></i> Ajuda</a
            >
          </li>
          <li class="nav-item d-lg-none">
            <a
              class="nav-link"
              href="#?logout-wasomupfy"
              data-bs-toggle="modal"
              data-bs-target="#logoutwasomupfy"
              ><i class="bi bi-box-arrow-right"></i> Desconectar-se</a
            >
          </li>
        </ul>
      </div>
    </div>

    <!-- Toast para Notificações de Status -->
    <div class="toast-container position-fixed bottom-0 end-0 p-3">
      <div
        id="connectionToast"
        class="toast"
        role="alert"
        aria-live="assertive"
        aria-atomic="true"
      >
        <div class="toast-header">
          <strong class="me-auto">Conexão</strong>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="toast"
            aria-label="Fechar"
          ></button>
        </div>
        <div class="toast-body">
          Você está offline. Alguns dados podem estar desatualizados.
          <div class="mt-2">
            <button class="btn btn-pink btn-sm" onclick="tryReconnect()">
              Tentar Reconectar
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Main Content -->
    <div class="container my-4">
      <!-- Welcome Section -->
      <div class="row">
        <div class="welcome-text mb-4 col-auto d-sm-block">
          <h1>Lançamentos</h1>
        </div>
        <div class="col-auto ms-auto text-end mt-n1 mb-2">
          <button
            class="btn btn-secondary"
            onclick="window.location='draft-release.html'"
          >
            <i class="bi bi-pencil"></i> Rascunho
          </button>
          <button
            class="btn btn-pink"
            onclick="window.location='creat-release.html'"
          >
            <i class="bi bi-plus"></i> Novo lançamento
          </button>
        </div>
      </div>

      <!-- Stats Description -->
      <p class="stats-description">
        O <q>Meus Lançamentos</q> agrega todo o catálogo de lançamento desta
        mesma conta, podes encontrar aqui todos os singles, eps e álbuns
        lançados apartir desta conta para as plataformas digitais, em caso de
        dúvidas podes pesquisar o que estás a procurar.
      </p>

      <div class="search-container date-range fade-in-custom">
        <div class="row g-3">
          <div class="col-md-3">
            <label for="dateRange">Título do Álbum:</label>
            <input
              type="text"
              class="form-control"
              id="search-title"
              placeholder="Título do Álbum"
            />
          </div>
          <div class="col-md-3">
            <label for="dateRange">Artista:</label>
            <input
              type="text"
              class="form-control"
              id="search-artist"
              placeholder="Artista"
            />
          </div>
          <div class="col-md-2">
            <label for="dateRange">Ano:</label>
            <input
              type="number"
              class="form-control"
              min="1"
              id="search-year"
              placeholder="Ano"
            />
          </div>
          <div class="col-md-2">
            <label for="dateRange">UPC:</label>
            <input
              type="text"
              class="form-control"
              id="search-upc"
              placeholder="UPC"
            />
          </div>
          <div class="col-md-2">
            <label for="dateRange">Filtro</label>
            <select class="form-select" id="search-status">
              <option value="">Todos os Status</option>
              <option value="approved">Aprovado</option>
              <option value="rejected">Reprovado</option>
              <option value="pending">Pendente</option>
              <option value="draft">Rascunho</option>
            </select>
          </div>
        </div>
        <div
          class="d-flex justify-content-between align-items-center mt-2 mb-2"
        >
          <button class="btn btn-apply" id="clear-filters">
            <i class="bi bi-eraser me-2"></i> Limpar Filtros
          </button>
          <span id="result-count">0 álbuns encontrados</span>
        </div>
      </div>

      <div class="card fade-in-custom">
        <div class="row justify-content-center" id="album-list">
          <!-- Cards serão gerados dinamicamente via JavaScript -->
        </div>
        <!-- Paginação -->
        <nav aria-label="Navegação de páginas">
          <ul class="pagination" id="pagination"></ul>
        </nav>
      </div>

      <!-- Modal Genérico (reutilizado para todos os álbuns) -->
      <div
        class="modal fade"
        id="albumModal"
        tabindex="-1"
        aria-labelledby="albumModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog">
          <div class="modal-content bg-dark text-white">
            <div class="modal-header">
              <h5 class="modal-title" id="albumModalLabel"></h5>
              <button
                type="button"
                class="btn-close btn-close-white"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              <img
                src=""
                class="img-fluid rounded mb-3 album-modal-image"
                alt="Capa do Álbum"
              />
              <p>
                <strong>Gênero:</strong> <span class="album-modal-genre"></span>
              </p>
              <p>
                <strong>Faixas:</strong>
                <span class="album-modal-tracks"></span>
              </p>
              <p>
                <strong>Descrição:</strong>
                <span class="album-modal-description"></span>
              </p>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                Fechar
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <nav class="bottom-nav d-lg-none">
      <ul class="nav justify-content-around">
        <li class="nav-item">
          <a
            class="nav-link"
            href="../painel.html"
            aria-label="Ir para Dashboard"
            ><i class="bi bi-speedometer2"></i><span>Dashboard</span></a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link"
            href="../launch/releases.html"
            aria-label="Ir para Lançamentos"
            ><i class="bi bi-disc"></i><span>Lançamentos</span></a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link"
            href="../analytics/statistics.html"
            aria-label="Ir para Estatísticas"
            ><i class="bi bi-bar-chart"></i><span>Estatísticas</span></a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link"
            href="../finances/overview.html"
            aria-label="Ir para Finanças"
            ><i class="bi bi-currency-dollar"></i><span>Finanças</span></a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link"
            href="../artists/artists-list.html"
            aria-label="Ir para Artistas"
            ><i class="bi bi-person"></i><span>Artistas</span></a
          >
        </li>
      </ul>
    </nav>

    <!-- Bootstrap JS and Popper.js -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../js/validacao.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/11.0.2/bootstrap-slider.min.js"></script>
    <script src="../../js/theme.wp.js"></script>
    <script src="../../js/wp.tools.js"></script>
    <script>
      const tooltipTriggerList = document.querySelectorAll(
        '[data-bs-toggle="tooltip"]'
      );
      const tooltipList = [...tooltipTriggerList].map(
        (tooltipTriggerEl) => new bootstrap.Tooltip(tooltipTriggerEl)
      );
    </script>
    <script>
      // Dados dos álbuns (simulando um banco de dados)
      const albums = [
        {
          id: 1,
          title: "La vida",
          artist: "Bruna",
          year: "15/10/2024",
          upc: "123456789012",
          status: "approved",
          cover: "img/photo4.jpg",
          genre: "Indie Pop",
          tracks: "1. Aurora, 2. Céu Aberto, 3. Maré Alta",
          description: "Um álbum vibrante que captura a essência da liberdade.",
          link: "https://spotify.com",
        },
        {
          id: 2,
          title: "God Knows",
          artist: "Cwjays",
          year: 2024,
          upc: "987654321098",
          status: "rejected",
          cover: "img/photo3.jpg",
          genre: "Rock Alternativo",
          tracks: "1. Sombras, 2. Fogo, 3. Eco",
          description: "Uma jornada sonora intensa e emocional.",
          link: "https://youtube.com",
        },
        {
          id: 3,
          title: "My Universe",
          artist: "Anderson Cuper",
          year: "20/09/2024",
          upc: "456789123456",
          status: "pending",
          cover: "img/foto-2.jpg",
          genre: "Eletrônica",
          tracks: "1. Pulsar, 2. Nebulosa, 3. Órbita",
          description: "Uma experiência cósmica em som.",
          link: "https://apple.com/apple-music",
        },
        {
          id: 4,
          title: "Horizonte",
          artist: "José Mbenga",
          year: "30/04/2025",
          upc: "789123456789",
          status: "draft",
          cover: "img/foto-6.jpg",
          genre: "Folk",
          tracks: "1. Caminho, 2. Brisa, 3. Horizonte",
          description: "Música que celebra a liberdade e a natureza.",
          link: "https://spotify.com",
        },
        // Add mais álbuns conforme necessário
        {
          id: 5,
          title: "Luz",
          artist: "Cristiano Amadeu",
          year: "20/12/2024",
          upc: "112233445566",
          status: "approved",
          cover: "img/foto-4.jpg",
          genre: "Pop",
          tracks: "1. Lua Cheia, 2. Estrelas, 3. Amanhecer",
          description: "Um álbum pop cheio de energia e emoção.",
          link: "https://youtube.com",
        },

        {
          id: 6,
          title: "Jungle",
          artist: "Heldér Adão",
          year: "10/02/2023",
          upc: "112233445566",
          status: "approved",
          cover: "img/photo1.png",
          genre: "Pop",
          tracks: "1. Lua Cheia, 2. Estrelas, 3. Amanhecer",
          description: "Um álbum pop cheio de energia e emoção.",
          link: "https://youtube.com",
        },
      ];

      const perPage = 12; // Número de álbuns por página
      let currentPage = 1;

      // Função para renderizar os cards
      function renderAlbums(filteredAlbums) {
        const albumList = document.getElementById("album-list");
        albumList.innerHTML = "";

        // Calcular índices de início e fim para a página atual
        const start = (currentPage - 1) * perPage;
        const end = start + perPage;
        const paginatedAlbums = filteredAlbums.slice(start, end);

        paginatedAlbums.forEach((album) => {
          const card = `
                     <div class="col-xs-6 col-md-4">
                    <div class="music-card" data-id="${album.id}">
                        <div class="album-cover" data-bs-toggle="modal" data-bs-target="#albumModal" data-album-id="${
                          album.id
                        }">
                            <img src="${
                              album.cover
                            }" class="img-fluid" alt="Capa do Álbum">
                        </div>
                        <div class="ribbon ribbon-${
                          album.status
                        }" data-bs-toggle="tooltip" title="${getStatusTooltip(
            album.status
          )}">${getStatusText(album.status)}</div>
                        <div class="album-info">
                            <h2>${album.title}</h2>
                            <h4>Artista: ${album.artist}</h4>
                            <p><i class="bi bi-calendar-check"></i> Lançado: ${
                              album.year
                            }</p>
                            <p><i class="bi bi-qr-code-scan"></i> UPC: ${
                              album.upc
                            }</p>
                            <div class="streaming-links">
                                <a href="https://spotify.com" target="_blank"><i class="bi bi-spotify"></i></a>
                                <a href="https://apple.com/apple-music" target="_blank"><i class="bi bi-apple"></i></a>
                                <a href="https://youtube.com" target="_blank"><i class="bi bi-youtube"></i></a>
                            </div>
                            <a href="#" class="play-button" data-bs-toggle="modal" data-bs-target="#albumModal" data-album-id="${
                              album.id
                            }"> Ver mais detalhes</a>
                        </div>
                    </div>
                </div>
                `;
          albumList.insertAdjacentHTML("beforeend", card);
        });

        // Atualizar contador
        document.getElementById(
          "result-count"
        ).textContent = `${filteredAlbums.length} álbuns encontrados`;

        // Renderizar paginação
        renderPagination(filteredAlbums.length);

        // Inicializar tooltips
        const tooltips = document.querySelectorAll(
          '[data-bs-toggle="tooltip"]'
        );
        tooltips.forEach((tooltip) => new bootstrap.Tooltip(tooltip));

        // Configurar modais
        document
          .querySelectorAll('[data-bs-toggle="modal"]')
          .forEach((element) => {
            element.addEventListener("click", () => {
              const albumId = element.getAttribute("data-album-id");
              const album = albums.find((a) => a.id == albumId);
              document.getElementById(
                "albumModalLabel"
              ).textContent = `${album.title} - ${album.artist}`;
              document.querySelector(".album-modal-image").src = album.cover;
              document.querySelector(".album-modal-genre").textContent =
                album.genre;
              document.querySelector(".album-modal-tracks").textContent =
                album.tracks;
              document.querySelector(".album-modal-description").textContent =
                album.description;
              document.querySelector(".album-modal-link").href = album.link;
            });
          });
      }

      // Função para renderizar a paginação
      function renderPagination(totalItems) {
        const totalPages = Math.ceil(totalItems / perPage);
        const pagination = document.getElementById("pagination");
        pagination.innerHTML = "";

        // Botão "Anterior"
        pagination.insertAdjacentHTML(
          "beforeend",
          `
                <li class="page-item ${currentPage === 1 ? "disabled" : ""}">
                    <a class="page-link" href="#" data-page="${
                      currentPage - 1
                    }">Anterior</a>
                </li>
            `
        );

        // Páginas numeradas
        for (let i = 1; i <= totalPages; i++) {
          pagination.insertAdjacentHTML(
            "beforeend",
            `
                    <li class="page-item ${i === currentPage ? "active" : ""}">
                        <a class="page-link" href="#" data-page="${i}">${i}</a>
                    </li>
                `
          );
        }

        // Botão "Próximo"
        pagination.insertAdjacentHTML(
          "beforeend",
          `
                <li class="page-item ${
                  currentPage === totalPages ? "disabled" : ""
                }">
                    <a class="page-link" href="#" data-page="${
                      currentPage + 1
                    }">Próximo</a>
                </li>
            `
        );

        // Adicionar eventos aos botões de paginação
        document.querySelectorAll(".page-link").forEach((link) => {
          link.addEventListener("click", (e) => {
            e.preventDefault();
            const page = parseInt(e.target.getAttribute("data-page"));
            if (page && !isNaN(page)) {
              currentPage = page;
              filterAlbums();
            }
          });
        });
      }

      // Função para obter texto do status
      function getStatusText(status) {
        const statusMap = {
          approved: "Aprovado",
          rejected: "Reprovado",
          pending: "Pendente",
          draft: "Rascunho",
        };
        return statusMap[status] || "Desconhecido";
      }

      // Função para obter tooltip do status
      function getStatusTooltip(status) {
        const tooltipMap = {
          approved: "Álbum aprovado para lançamento",
          rejected: "Álbum não aprovado",
          pending: "Aguardando revisão",
          draft: "Em fase de criação",
        };
        return tooltipMap[status] || "Status desconhecido";
      }

      // Função de filtragem
      function filterAlbums() {
        const title = document
          .getElementById("search-title")
          .value.toLowerCase();
        const artist = document
          .getElementById("search-artist")
          .value.toLowerCase();
        const year = document.getElementById("search-year").value;
        const upc = document.getElementById("search-upc").value.toLowerCase();
        const status = document.getElementById("search-status").value;

        const filteredAlbums = albums.filter((album) => {
          return (
            (title === "" || album.title.toLowerCase().includes(title)) &&
            (artist === "" || album.artist.toLowerCase().includes(artist)) &&
            (year === "" || album.year.toString().includes(year)) &&
            (upc === "" || album.upc.toLowerCase().includes(upc)) &&
            (status === "" || album.status === status)
          );
        });

        renderAlbums(filteredAlbums);
      }

      // Inicializar eventos de pesquisa
      document.getElementById("search-title").addEventListener("input", () => {
        currentPage = 1; // Resetar para a primeira página ao filtrar
        filterAlbums();
      });
      document.getElementById("search-artist").addEventListener("input", () => {
        currentPage = 1;
        filterAlbums();
      });
      document.getElementById("search-year").addEventListener("input", () => {
        currentPage = 1;
        filterAlbums();
      });
      document.getElementById("search-upc").addEventListener("input", () => {
        currentPage = 1;
        filterAlbums();
      });
      document
        .getElementById("search-status")
        .addEventListener("change", () => {
          currentPage = 1;
          filterAlbums();
        });

      // Limpar filtros
      document.getElementById("clear-filters").addEventListener("click", () => {
        document.getElementById("search-title").value = "";
        document.getElementById("search-artist").value = "";
        document.getElementById("search-year").value = "";
        document.getElementById("search-upc").value = "";
        document.getElementById("search-status").value = "";
        currentPage = 1;
        filterAlbums();
      });

      // Renderizar todos os álbuns inicialmente
      filterAlbums();
    </script>
  </body>
</html>
