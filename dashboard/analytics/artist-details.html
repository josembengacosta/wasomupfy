<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="robots" content="noindex, nofollow" />
    <meta name="author" content="Voosoft" />
    <meta name="theme-color" content="#FF0089" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <link
      rel="apple-touch-icon"
      href="../../assets/img/icones/wasomupfy_fiv_512.png"
    />
    <link
      rel="apple-touch-startup-image"
      href="../../assets/img/screenshots/splash.png"
    />
    <link rel="manifest" href="../manifest.json" />
    <title>Detalhes de artistas - Wasom Upfy</title>
    <link
      rel="shortcut icon"
      href="../../assets/img/icones/wasomupfy_fiv.png"
      type="image/x-icon"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/simplebar@6.2.5/dist/simplebar.min.css"
    />
    <link
      href="
https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css
"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css"
    />
    <link rel="stylesheet" href="../../css/dashboard-style.css" />
    <link rel="stylesheet" href="../../css/lastest-style.css" />
    <link rel="stylesheet" href="../../css/artist-list.css" />
  </head>

  <body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg">
      <div class="container-fluid">
        <!-- Menu Button (Left) -->
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="offcanvas"
          data-bs-target="#offcanvasMenu"
          aria-controls="offcanvasMenu"
        >
          <span class="navbar-toggler-icon"
            ><i class="bi bi-list text-white fs-1"></i
          ></span>
        </button>

        <!-- Logo (Center on Mobile, Left on Desktop) -->
        <a class="navbar-brand" href="../painel.html">
          <!-- SVG Logo Wasom Upfy -->
          <!-- <svg width="120" height="40" viewBox="0 0 120 40" xmlns="http://www.w3.org/2000/svg">
                    <rect x="2" y="2" width="116" height="36" rx="5" fill="none" stroke="#ff0089" stroke-width="2" />
                    <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="20" font-weight="bold"
                        fill="#ff0089" text-anchor="middle" dominant-baseline="middle">WASOM UPFY</text>
                </svg> -->
          <span
            class="text-light"
            style="
              font-weight: bold;
              box-sizing: border-box;
              text-transform: capitalize;
              font-family: Arial, sans-serif;
            "
            >WASOM UPFY</span
          >
        </a>

        <!-- Desktop Menu -->
        <div class="collapse navbar-collapse">
          <ul class="navbar-nav m-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link" href="../painel.html"
                ><i class="bi bi-speedometer2"></i> Dashboard</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../launch/releases.html"
                ><i class="bi bi-disc"></i> Lançamentos</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../analytics/statistics.html"
                ><i class="bi bi-bar-chart"></i> Estatísticas</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../finances/overview.html"
                ><i class="bi bi-currency-dollar"></i> Finanças</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../artists/artists-list.html"
                ><i class="bi bi-person"></i> Artistas</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="youtube.html"
                ><i class="bi bi-youtube"></i> Unificação de canal YouTube</a
              >
            </li>
          </ul>
        </div>

        <!-- User Icon (Right) -->
        <div class="user-menu d-flex align-items-center">
          <!-- Theme Toggle Button -->
          <a class="theme-toggle text-white me-2" id="themeToggle">
            <i class="bi bi-sun" id="themeIcon"></i>
          </a>
          <a
            href="../notifications.html"
            class="text-white me-2"
            aria-label="Notificações"
          >
            <i class="bi bi-bell fs-4"></i>
            <span class="badge bg-danger">9</span>
          </a>
          <a href="#" class="text-white" data-bs-toggle="dropdown">
            <i class="bi bi-person-circle fs-4"></i>
          </a>
          <ul class="dropdown-menu dropdown-menu-end">
            <li>
              <a class="dropdown-item" href="../user/profile.html"
                ><i class="bi bi-person me-2"></i>
                <strong>Eleven Records</strong></a
              >
              <div class="text-white-50">
                &nbsp; &nbsp; &nbsp; &nbsp; (Conta 560108)
              </div>
            </li>
            <li>
              <hr class="dropdown-divider" />
            </li>
            <li>
              <a class="dropdown-item" href="../user/profile.html"
                ><i class="bi bi-person me-2"></i> Meu Perfil</a
              >
            </li>
            <li>
              <a class="dropdown-item" href="../account/manage-account.html"
                ><i class="bi bi-tools me-2"></i> Gestão de Conta</a
              >
            </li>
            <li>
              <hr class="dropdown-divider" />
            </li>
            <li>
              <a class="dropdown-item" href="../page/settings.html"
                ><i class="bi bi-gear me-2"></i> Configurações</a
              >
            </li>
            <li>
              <a class="dropdown-item" href="../page/notifications.html"
                ><i class="bi bi-bell me-2"></i> Notificações</a
              >
            </li>
            <li>
              <a
                class="dropdown-item"
                href="../services/available-services.html"
                ><i class="bi bi-star me-2"></i> Conta e serviços disponíveis</a
              >
            </li>
            <li>
              <a
                class="dropdown-item"
                href="#?logout-wasomupfy"
                data-bs-toggle="modal"
                data-bs-target="#logoutwasomupfy"
                ><i class="bi bi-box-arrow-right me-2"></i> Desconectar-se</a
              >
            </li>
            <li>
              <hr class="dropdown-divider" />
            </li>
            <li>
              <a class="dropdown-item" href="../page/sobre.html"
                ><i class="bi bi-info-circle me-2"></i> Sobre</a
              >
            </li>
            <li>
              <a class="dropdown-item" href="../page/support.html"
                ><i class="bi bi-headset me-2"></i> Enviar pedido de suporte</a
              >
            </li>
            <li>
              <a class="dropdown-item" href="../page/faq.html"
                ><i class="bi bi-chat-left-text me-2"></i> Perguntas
                frequentes</a
              >
            </li>
            <li>
              <a class="dropdown-item" href="../page/help.html"
                ><i class="bi bi-question-circle me-2"></i> Ajuda</a
              >
            </li>
            <li>
              <hr class="dropdown-divider" />
            </li>
            <li>
              <span class="dropdown-item-text" id="versionDropdown"></span>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Modal logout -->
    <div
      class="modal fade"
      id="logoutwasomupfy"
      data-bs-backdrop="static"
      data-bs-keyboard="false"
      tabindex="-1"
      aria-labelledby="logoutwasomupfyLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5 text-dark" id="logoutwasomupfyLabel">
              Terminar sessão
            </h1>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <div class="container">
              <div class="row justify-content-center text-center">
                <div
                  class="col-md-12 content-center justify-center text-center"
                >
                  <p class="text-center text-dark">
                    @josembengadacosta você tem certeza de que desejas terminar
                    sessão?
                  </p>
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <div>
              <button
                type="button"
                class="btn btn-primary"
                data-bs-dismiss="modal"
              >
                Não, continuar
              </button>
            </div>
            <div>
              <button
                class="btn btn-danger"
                type="button"
                name="logout_wasomupfy"
                onclick="logout_wasomupfy()"
              >
                Sim, terminar sessão
              </button>
            </div>
            <script type="text/javascript">
              function logout_wasomupfy() {
                window.location = "../logout";
              }
            </script>
          </div>
        </div>
      </div>
    </div>
    <!-- Modal logout fim -->

    <!-- Offcanvas Menu for Mobile -->
    <div
      class="offcanvas offcanvas-start"
      tabindex="-1"
      id="offcanvasMenu"
      aria-labelledby="offcanvasMenuLabel"
    >
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasMenuLabel">
          <!-- <svg width="120" height="40" viewBox="0 0 120 40" xmlns="http://www.w3.org/2000/svg">
                    <rect x="2" y="2" width="116" height="36" rx="5" fill="none" stroke="#ff0089" stroke-width="2" />
                    <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="20" font-weight="bold"
                        fill="#ff0089" text-anchor="middle" dominant-baseline="middle">WASOM UPFY</text>
                </svg> -->
          <span
            class="text-light"
            style="
              font-weight: bold;
              box-sizing: border-box;
              text-transform: capitalize;
              font-family: Arial, sans-serif;
            "
            >WASOM UPFY</span
          >
        </h5>
        <button
          type="button"
          class="btn-close text-white"
          data-bs-dismiss="offcanvas"
          aria-label="Close"
        >
          <i class="bi bi-x-lg"></i>
        </button>
      </div>
      <div class="offcanvas-body">
        <ul class="nav flex-column">
          <li class="nav-item">
            <a class="nav-link" href="../painel.html"
              ><i class="bi bi-speedometer2"></i> Dashboard</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../launch/releases.html"
              ><i class="bi bi-disc"></i> Lançamentos</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../analytics/statistics.html"
              ><i class="bi bi-bar-chart"></i> Estatísticas</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../finances/overview.html"
              ><i class="bi bi-currency-dollar"></i> Finanças</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../artists/artists-list.html"
              ><i class="bi bi-person"></i> Artistas</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" href="youtube.html"
              ><i class="bi bi-youtube"></i> Unificação de canal YouTube</a
            >
          </li>
        </ul>
        <div class="version-info">Versão 2.1 (2026)</div>
      </div>
    </div>

    <!-- Main Content -->
    <div class="container my-4">
      <!-- Artist Header -->
      <div class="artist-header">
        <div class="artist-info">
          <img
            id="artistCover"
            src="https://via.placeholder.com/100"
            alt="Capa do Artista"
          />
          <h2 id="artistName">Carregando...</h2>
        </div>
        <div class="col-auto ms-auto text-end mt-n1">
          <button
            class="btn btn-back shadow-sm"
            onclick="window.location.reload()"
          >
            <i class="bi bi-repeat"></i> Actualizar
          </button>
          <button
            class="btn btn-pink"
            onclick="window.location='statistics.html#artist'"
          >
            <i class="bi bi-arrow-left"></i> Voltar
          </button>
        </div>
      </div>

      <!-- Description -->
      <p class="stats-description">
        Aqui podes ver as estatísticas das músicas reproduzidas por este artista
        de acordo com a disponibilidade de registo.
      </p>

      <!-- Date Range Selector -->
      <div class="date-range">
        <div>
          <label>Intervalo de datas</label>
          <div>
            <input type="date" id="startDate" value="2024-10-09" />
            <input type="date" id="endDate" value="2024-12-30" />
          </div>
        </div>
        <button class="btn-apply" onclick="applyDateRange()">Aplicar</button>
        <div class="total-streams">
          Total de streams: <span id="totalStreams">0</span>
        </div>
      </div>

      <!-- Chart Card -->
      <div class="chart-card mb-4">
        <div class="card">
          <canvas id="streamChart"></canvas>
        </div>
      </div>

      <!-- Platforms Card -->
      <div class="platforms-card mb-4">
        <div class="card">
          <ul id="platformsList">
            <!-- Preenchido dinamicamente -->
          </ul>
        </div>
      </div>

      <!-- Filters -->
      <div class="filter-group">
        <div class="input-group">
          <i class="bi bi-search"></i>
          <input
            type="text"
            id="songSearch"
            placeholder="Pesquisar música"
            onkeyup="filterSongs()"
          />
        </div>
        <div class="input-group">
          <i class="bi bi-filter"></i>
          <input
            type="number"
            id="minStreams"
            placeholder="Streams mínimos"
            oninput="validateStreamsFilter()"
          />
        </div>
        <div class="input-group">
          <i class="bi bi-filter"></i>
          <input
            type="number"
            id="maxStreams"
            placeholder="Streams máximos"
            oninput="validateStreamsFilter()"
          />
        </div>
        <div class="input-group">
          <i class="bi bi-award"></i>
          <select id="awardsFilter" onchange="filterSongs()">
            <option value="all">Todos</option>
            <option value="with">Com prêmios</option>
            <option value="without">Sem prêmios</option>
          </select>
        </div>
        <div class="input-group">
          <i class="bi bi-sort-down"></i>
          <select id="sortOrder" onchange="filterSongs()">
            <option value="desc">Streams (Decrescente)</option>
            <option value="asc">Streams (Crescente)</option>
          </select>
        </div>
        <button
          class="btn-apply"
          id="applyFilters"
          onclick="filterSongs()"
          disabled
        >
          Aplicar
        </button>
      </div>

      <!-- Songs List -->
      <ul class="songs-list" id="songsList"></ul>
    </div>

    <nav class="bottom-nav d-lg-none">
      <ul class="nav justify-content-around">
        <li class="nav-item">
          <a
            class="nav-link"
            href="../painel.html"
            aria-label="Ir para Dashboard"
            ><i class="bi bi-speedometer2"></i><span>Dashboard</span></a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link"
            href="../launch/releases.html"
            aria-label="Ir para Lançamentos"
            ><i class="bi bi-disc"></i><span>Lançamentos</span></a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link"
            href="../analytics/statistics.html"
            aria-label="Ir para Estatísticas"
            ><i class="bi bi-bar-chart"></i><span>Estatísticas</span></a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link"
            href="../finances/overview.html"
            aria-label="Ir para Finanças"
            ><i class="bi bi-currency-dollar"></i><span>Finanças</span></a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link"
            href="../artists/artists-list.html"
            aria-label="Ir para Artistas"
            ><i class="bi bi-person"></i><span>Artistas</span></a
          >
        </li>
      </ul>
    </nav>
    <!-- jQuery (necessário para DataTables) -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Bootstrap JS and Popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- DataTables JS -->
    <script src="https://cdn.datatables.net/v/bs5/dt-1.13.6/datatables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
    <script src="../../js/theme.wp.js"></script>
    <script src="../../js/wp.tools.js"></script>
    <script>
      const tooltipTriggerList = document.querySelectorAll(
        '[data-bs-toggle="tooltip"]'
      );
      const tooltipList = [...tooltipTriggerList].map(
        (tooltipTriggerEl) => new bootstrap.Tooltip(tooltipTriggerEl)
      );
    </script>

    <script>
      // Dados simulados para cada artista
      const artistData = {
        Eunic: {
          totalStreams: 15000,
          cover: "https://via.placeholder.com/100",
          songs: [
            {
              title: "Song A",
              awards: "Prêmio 27-02-2025",
              streams: 8000,
              cover: "https://via.placeholder.com/40",
            },
            {
              title: "Song B",
              awards: "",
              streams: 5000,
              cover: "https://via.placeholder.com/40",
            },
            {
              title: "Song C",
              awards: "Prêmio 30-01-2025",
              streams: 2000,
              cover: "https://via.placeholder.com/40",
            },
          ],
          platforms: [
            {
              name: "Spotify",
              streams: 7000,
              icon: "bi-spotify",
            },
            {
              name: "Deezer",
              streams: 2000,
              icon: "bi-music-player",
            },
            {
              name: "Apple Music",
              streams: 3000,
              icon: "bi-apple",
            },
            {
              name: "Amazon Music",
              streams: 500,
              icon: "bi-music-note-beamed",
            },
            {
              name: "YouTube",
              streams: 2500,
              icon: "bi-youtube",
            },
          ],
          chartData: {
            labels: [
              "2024-10-09",
              "2024-10-16",
              "2024-10-23",
              "2024-10-30",
              "2024-11-06",
              "2024-11-13",
              "2024-11-20",
              "2024-11-27",
              "2024-12-04",
              "2024-12-11",
              "2024-12-18",
              "2024-12-25",
              "2024-12-30",
            ],
            datasets: [
              {
                label: "Spotify",
                data: [
                  3000, 3100, 2900, 2800, 2700, 2600, 2500, 2400, 2300, 2200,
                  2100, 2000, 1900,
                ],
                borderColor: "#1db954",
                backgroundColor: "rgba(29, 185, 84, 0.5)",
                fill: true,
                stack: "combined",
              },
              {
                label: "Deezer",
                data: [
                  1000, 950, 900, 850, 800, 750, 700, 650, 600, 550, 500, 450,
                  400,
                ],
                borderColor: "#ff0089",
                backgroundColor: "rgba(255, 77, 148, 0.5)",
                fill: true,
                stack: "combined",
              },
              {
                label: "Apple Music",
                data: [
                  1500, 1550, 1600, 1650, 1700, 1750, 1800, 1850, 1900, 1950,
                  2000, 2050, 2100,
                ],
                borderColor: "#ff4d4d",
                backgroundColor: "rgba(255, 77, 77, 0.5)",
                fill: true,
                stack: "combined",
              },
              {
                label: "YouTube Art Track",
                data: [
                  1200, 1150, 1100, 1050, 1000, 950, 900, 850, 800, 750, 700,
                  650, 600,
                ],
                borderColor: "#ff0000",
                backgroundColor: "rgba(255, 0, 0, 0.5)",
                fill: true,
                stack: "combined",
              },
            ],
          },
        },
        CHVJays: {
          totalStreams: 3000,
          cover: "https://via.placeholder.com/100",
          songs: [
            {
              title: "Song D",
              awards: "Prêmio 15-03-2025",
              streams: 1500,
              cover: "https://via.placeholder.com/40",
            },
            {
              title: "Song E",
              awards: "",
              streams: 1000,
              cover: "https://via.placeholder.com/40",
            },
            {
              title: "Song F",
              awards: "",
              streams: 500,
              cover: "https://via.placeholder.com/40",
            },
          ],
          platforms: [
            {
              name: "Spotify",
              streams: 1200,
              icon: "bi-spotify",
            },
            {
              name: "Deezer",
              streams: 500,
              icon: "bi-music-player",
            },
            {
              name: "Apple Music",
              streams: 800,
              icon: "bi-apple",
            },
            {
              name: "Amazon Music",
              streams: 100,
              icon: "bi-music-note-beamed",
            },
            {
              name: "YouTube",
              streams: 400,
              icon: "bi-youtube",
            },
          ],
          chartData: {
            labels: [
              "2024-10-09",
              "2024-10-16",
              "2024-10-23",
              "2024-10-30",
              "2024-11-06",
              "2024-11-13",
              "2024-11-20",
              "2024-11-27",
              "2024-12-04",
              "2024-12-11",
              "2024-12-18",
              "2024-12-25",
              "2024-12-30",
            ],
            datasets: [
              {
                label: "Spotify",
                data: [
                  500, 510, 490, 480, 470, 460, 450, 440, 430, 420, 410, 400,
                  390,
                ],
                borderColor: "#1db954",
                backgroundColor: "rgba(29, 185, 84, 0.5)",
                fill: true,
                stack: "combined",
              },
              {
                label: "Deezer",
                data: [
                  200, 190, 180, 170, 160, 150, 140, 130, 120, 110, 100, 90, 80,
                ],
                borderColor: "#ff0089",
                backgroundColor: "rgba(255, 77, 148, 0.5)",
                fill: true,
                stack: "combined",
              },
              {
                label: "Apple Music",
                data: [
                  400, 410, 420, 430, 440, 450, 460, 470, 480, 490, 500, 510,
                  520,
                ],
                borderColor: "#ff4d4d",
                backgroundColor: "rgba(255, 77, 77, 0.5)",
                fill: true,
                stack: "combined",
              },
              {
                label: "YouTube Art Track",
                data: [
                  150, 140, 130, 120, 110, 100, 90, 80, 70, 60, 50, 40, 30,
                ],
                borderColor: "#ff0000",
                backgroundColor: "rgba(255, 0, 0, 0.5)",
                fill: true,
                stack: "combined",
              },
            ],
          },
        },
        "Anderson Cuper": {
          totalStreams: 9000,
          cover: "https://via.placeholder.com/100",
          songs: [
            {
              title: "Song G",
              awards: "",
              streams: 5000,
              cover: "https://via.placeholder.com/40",
            },
            {
              title: "Song H",
              awards: "Prêmio 20-04-2025",
              streams: 3000,
              cover: "https://via.placeholder.com/40",
            },
            {
              title: "Song I",
              awards: "",
              streams: 1000,
              cover: "https://via.placeholder.com/40",
            },
          ],
          platforms: [
            {
              name: "Spotify",
              streams: 4000,
              icon: "bi-spotify",
            },
            {
              name: "Deezer",
              streams: 1000,
              icon: "bi-music-player",
            },
            {
              name: "Apple Music",
              streams: 2000,
              icon: "bi-apple",
            },
            {
              name: "Amazon Music",
              streams: 300,
              icon: "bi-music-note-beamed",
            },
            {
              name: "YouTube",
              streams: 1700,
              icon: "bi-youtube",
            },
          ],
          chartData: {
            labels: [
              "2024-10-09",
              "2024-10-16",
              "2024-10-23",
              "2024-10-30",
              "2024-11-06",
              "2024-11-13",
              "2024-11-20",
              "2024-11-27",
              "2024-12-04",
              "2024-12-11",
              "2024-12-18",
              "2024-12-25",
              "2024-12-30",
            ],
            datasets: [
              {
                label: "Spotify",
                data: [
                  2000, 2050, 1950, 1900, 1850, 1800, 1750, 1700, 1650, 1600,
                  1550, 1500, 1450,
                ],
                borderColor: "#1db954",
                backgroundColor: "rgba(29, 185, 84, 0.5)",
                fill: true,
                stack: "combined",
              },
              {
                label: "Deezer",
                data: [
                  500, 480, 460, 440, 420, 400, 380, 360, 340, 320, 300, 280,
                  260,
                ],
                borderColor: "#ff0089",
                backgroundColor: "rgba(255, 77, 148, 0.5)",
                fill: true,
                stack: "combined",
              },
              {
                label: "Apple Music",
                data: [
                  1000, 1050, 1100, 1150, 1200, 1250, 1300, 1350, 1400, 1450,
                  1500, 1550, 1600,
                ],
                borderColor: "#ff4d4d",
                backgroundColor: "rgba(255, 77, 77, 0.5)",
                fill: true,
                stack: "combined",
              },
              {
                label: "YouTube Art Track",
                data: [
                  800, 750, 700, 650, 600, 550, 500, 450, 400, 350, 300, 250,
                  200,
                ],
                borderColor: "#ff0000",
                backgroundColor: "rgba(255, 0, 0, 0.5)",
                fill: true,
                stack: "combined",
              },
            ],
          },
        },
        "Artista 4": {
          totalStreams: 5000,
          cover: "https://via.placeholder.com/100",
          songs: [
            {
              title: "Song J",
              awards: "",
              streams: 2500,
              cover: "https://via.placeholder.com/40",
            },
            {
              title: "Song K",
              awards: "Prêmio 10-05-2025",
              streams: 1500,
              cover: "https://via.placeholder.com/40",
            },
            {
              title: "Song L",
              awards: "",
              streams: 1000,
              cover: "https://via.placeholder.com/40",
            },
          ],
          platforms: [
            {
              name: "Spotify",
              streams: 2000,
              icon: "bi-spotify",
            },
            {
              name: "Deezer",
              streams: 600,
              icon: "bi-music-player",
            },
            {
              name: "Apple Music",
              streams: 1200,
              icon: "bi-apple",
            },
            {
              name: "Amazon Music",
              streams: 200,
              icon: "bi-music-note-beamed",
            },
            {
              name: "YouTube",
              streams: 1000,
              icon: "bi-youtube",
            },
          ],
          chartData: {
            labels: [
              "2024-10-09",
              "2024-10-16",
              "2024-10-23",
              "2024-10-30",
              "2024-11-06",
              "2024-11-13",
              "2024-11-20",
              "2024-11-27",
              "2024-12-04",
              "2024-12-11",
              "2024-12-18",
              "2024-12-25",
              "2024-12-30",
            ],
            datasets: [
              {
                label: "Spotify",
                data: [
                  1000, 1020, 980, 960, 940, 920, 900, 880, 860, 840, 820, 800,
                  780,
                ],
                borderColor: "#1db954",
                backgroundColor: "rgba(29, 185, 84, 0.5)",
                fill: true,
                stack: "combined",
              },
              {
                label: "Deezer",
                data: [
                  300, 290, 280, 270, 260, 250, 240, 230, 220, 210, 200, 190,
                  180,
                ],
                borderColor: "#ff0089",
                backgroundColor: "rgba(255, 77, 148, 0.5)",
                fill: true,
                stack: "combined",
              },
              {
                label: "Apple Music",
                data: [
                  600, 610, 620, 630, 640, 650, 660, 670, 680, 690, 700, 710,
                  720,
                ],
                borderColor: "#ff4d4d",
                backgroundColor: "rgba(255, 77, 77, 0.5)",
                fill: true,
                stack: "combined",
              },
              {
                label: "YouTube Art Track",
                data: [
                  500, 480, 460, 440, 420, 400, 380, 360, 340, 320, 300, 280,
                  260,
                ],
                borderColor: "#ff0000",
                backgroundColor: "rgba(255, 0, 0, 0.5)",
                fill: true,
                stack: "combined",
              },
            ],
          },
        },
        "Artista 5": {
          totalStreams: 2000,
          cover: "https://via.placeholder.com/100",
          songs: [
            {
              title: "Song M",
              awards: "",
              streams: 1000,
              cover: "https://via.placeholder.com/40",
            },
            {
              title: "Song N",
              awards: "Prêmio 15-06-2025",
              streams: 800,
              cover: "https://via.placeholder.com/40",
            },
            {
              title: "Song O",
              awards: "",
              streams: 200,
              cover: "https://via.placeholder.com/40",
            },
          ],
          platforms: [
            {
              name: "Spotify",
              streams: 800,
              icon: "bi-spotify",
            },
            {
              name: "Deezer",
              streams: 200,
              icon: "bi-music-player",
            },
            {
              name: "Apple Music",
              streams: 500,
              icon: "bi-apple",
            },
            {
              name: "Amazon Music",
              streams: 100,
              icon: "bi-music-note-beamed",
            },
            {
              name: "YouTube",
              streams: 400,
              icon: "bi-youtube",
            },
          ],
          chartData: {
            labels: [
              "2024-10-09",
              "2024-10-16",
              "2024-10-23",
              "2024-10-30",
              "2024-11-06",
              "2024-11-13",
              "2024-11-20",
              "2024-11-27",
              "2024-12-04",
              "2024-12-11",
              "2024-12-18",
              "2024-12-25",
              "2024-12-30",
            ],
            datasets: [
              {
                label: "Spotify",
                data: [
                  400, 410, 390, 380, 370, 360, 350, 340, 330, 320, 310, 300,
                  290,
                ],
                borderColor: "#1db954",
                backgroundColor: "rgba(29, 185, 84, 0.5)",
                fill: true,
                stack: "combined",
              },
              {
                label: "Deezer",
                data: [100, 95, 90, 85, 80, 75, 70, 65, 60, 55, 50, 45, 40],
                borderColor: "#ff0089",
                backgroundColor: "rgba(255, 77, 148, 0.5)",
                fill: true,
                stack: "combined",
              },
              {
                label: "Apple Music",
                data: [
                  250, 260, 270, 280, 290, 300, 310, 320, 330, 340, 350, 360,
                  370,
                ],
                borderColor: "#ff4d4d",
                backgroundColor: "rgba(255, 77, 77, 0.5)",
                fill: true,
                stack: "combined",
              },
              {
                label: "YouTube Art Track",
                data: [
                  200, 190, 180, 170, 160, 150, 140, 130, 120, 110, 100, 90, 80,
                ],
                borderColor: "#ff0000",
                backgroundColor: "rgba(255, 0, 0, 0.5)",
                fill: true,
                stack: "combined",
              },
            ],
          },
        },
      };

      // Carregar dados do artista com base no parâmetro da URL
      const urlParams = new URLSearchParams(window.location.search);
      const artist = decodeURIComponent(urlParams.get("artist") || "Eunic"); // Fallback para Eunic
      console.log("Parâmetro artist:", artist);

      const currentData = artistData[artist] || artistData["Eunic"];
      console.log("Dados carregados:", currentData);

      const artistName = document.getElementById("artistName");
      const artistCover = document.getElementById("artistCover");
      const totalStreams = document.getElementById("totalStreams");
      const songsList = document.getElementById("songsList");
      const platformsList = document.getElementById("platformsList");

      artistName.textContent = artist;
      artistCover.src = currentData.cover;
      totalStreams.textContent = currentData.totalStreams.toLocaleString();

      // Função para carregar músicas
      function loadSongs(songs) {
        songsList.innerHTML = "";
        songs.forEach((song) => {
          const li = document.createElement("li");
          li.innerHTML = `
                    <img src="${song.cover}" alt="${song.title}">
                    <div class="song-info">
                        <div class="song-title">${song.title}</div>
                        <div class="awards">${song.awards || "-"}</div>
                    </div>
                    <div class="song-streams">${song.streams.toLocaleString()} Streams</div>
                `;
          songsList.appendChild(li);
        });
      }

      // Carregar músicas iniciais
      loadSongs(currentData.songs);

      // Carregar plataformas
      function loadPlatforms(platforms) {
        platformsList.innerHTML = "";
        platforms.forEach((platform) => {
          const li = document.createElement("li");
          li.innerHTML = `
                    <div class="platform-info">
                        <i class="bi ${platform.icon}"></i>
                        <span>${platform.name}</span>
                    </div>
                    <span class="stream-count">${platform.streams.toLocaleString()} Streams</span>
                `;
          platformsList.appendChild(li);
        });
      }

      // Carregar plataformas iniciais
      loadPlatforms(currentData.platforms);

      // Configuração do Chart.js
      const ctx = document.getElementById("streamChart").getContext("2d");
      let streamChart = new Chart(ctx, {
        type: "line",
        data: currentData.chartData,
        options: {
          responsive: true,
          maintainAspectRatio: true,
          scales: {
            y: {
              beginAtZero: true,
              stacked: true,
              title: {
                display: true,
                text: "Streams",
              },
            },
            x: {
              stacked: true,
              title: {
                display: true,
                text: "Data",
              },
            },
          },
          plugins: {
            legend: {
              position: "top",
            },
            tooltip: {
              mode: "index",
              intersect: false,
            },
          },
          interaction: {
            mode: "nearest",
            axis: "x",
            intersect: false,
          },
        },
      });

      // Aplicar intervalo de datas
      function applyDateRange() {
        const startDate = new Date(document.getElementById("startDate").value);
        const endDate = new Date(document.getElementById("endDate").value);
        console.log(`Intervalo aplicado: ${startDate} a ${endDate}`);

        const filteredLabels = [];
        const filteredData = {
          labels: [],
          datasets: currentData.chartData.datasets.map((dataset) => ({
            ...dataset,
            data: [],
          })),
        };

        currentData.chartData.labels.forEach((label, index) => {
          const labelDate = new Date(label);
          if (labelDate >= startDate && labelDate <= endDate) {
            filteredLabels.push(label);
            filteredData.datasets.forEach((dataset, datasetIndex) => {
              dataset.data.push(
                currentData.chartData.datasets[datasetIndex].data[index]
              );
            });
          }
        });

        filteredData.labels = filteredLabels;
        streamChart.data = filteredData;
        streamChart.update();

        // Atualizar plataformas e total de streams com base no intervalo
        const filteredPlatforms = currentData.platforms.map((platform) => {
          const platformData = currentData.chartData.datasets.find(
            (ds) => ds.label === platform.name
          );
          if (platformData) {
            const filteredStreams = platformData.data.reduce(
              (sum, streams, idx) => {
                const labelDate = new Date(currentData.chartData.labels[idx]);
                if (labelDate >= startDate && labelDate <= endDate) {
                  return sum + streams;
                }
                return sum;
              },
              0
            );
            return {
              ...platform,
              streams: filteredStreams,
            };
          }
          return platform;
        });

        loadPlatforms(filteredPlatforms);

        // Atualizar total de streams
        const totalFilteredStreams = filteredPlatforms.reduce(
          (sum, platform) => sum + platform.streams,
          0
        );
        totalStreams.textContent = totalFilteredStreams.toLocaleString();

        // Filtrar músicas (placeholder para lógica futura)
        filterSongs();
      }

      // Validar filtros de streams
      function validateStreamsFilter() {
        const minStreams = document.getElementById("minStreams").value;
        const maxStreams = document.getElementById("maxStreams").value;
        const applyButton = document.getElementById("applyFilters");
        const isMinValid =
          minStreams === "" || (!isNaN(minStreams) && minStreams >= 0);
        const isMaxValid =
          maxStreams === "" || (!isNaN(maxStreams) && maxStreams >= 0);
        const areBothFilled = minStreams !== "" && maxStreams !== "";
        const isRangeValid = areBothFilled
          ? parseInt(minStreams) <= parseInt(maxStreams)
          : true;
        applyButton.disabled = !(isMinValid && isMaxValid && isRangeValid);
      }

      // Filtrar músicas
      function filterSongs() {
        const searchTerm = document
          .getElementById("songSearch")
          .value.toLowerCase();
        const minStreams =
          parseInt(document.getElementById("minStreams").value) || 0;
        const maxStreams =
          parseInt(document.getElementById("maxStreams").value) ||
          Number.MAX_SAFE_INTEGER;
        const awardsFilter = document.getElementById("awardsFilter").value;
        const sortOrder = document.getElementById("sortOrder").value;

        let filteredSongs = currentData.songs.filter((song) => {
          const matchesSearch = song.title.toLowerCase().includes(searchTerm);
          const matchesStreams =
            song.streams >= minStreams && song.streams <= maxStreams;
          const matchesAwards =
            awardsFilter === "all"
              ? true
              : awardsFilter === "with"
              ? song.awards !== ""
              : song.awards === "";

          return matchesSearch && matchesStreams && matchesAwards;
        });

        filteredSongs.sort((a, b) => {
          return sortOrder === "asc"
            ? a.streams - b.streams
            : b.streams - a.streams;
        });

        loadSongs(filteredSongs);
      }
    </script>
  </body>
</html>
