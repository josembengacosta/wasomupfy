<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="robots" content="noindex, nofollow" />
    <meta name="author" content="Voosoft" />
    <meta name="theme-color" content="#FF0089" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="#FF0089" />
    <link
      rel="apple-touch-icon"
      href="../../../assets/img/icones/wasomupfy_fiv_512.png"
    />
    <link
      rel="apple-touch-startup-image"
      href="../../../assets/img/screenshots/splash.png"
    />
    <link rel="manifest" href="../../../manifest.json" />
    <title>Gerenciamento de Visitantes - Wasom Upfy</title>
    <link
      rel="shortcut icon"
      href="../../../assets/img/icones/wasomupfy_fiv.png"
      type="image/x-icon"
    />
    <link rel="stylesheet" href="../../../css/libs/plugins.css" />
    <link rel="stylesheet" href="../../../css/libs/scrollue.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/simplebar@6.2.5/dist/simplebar.min.css"
    />
    <link rel="stylesheet" href="../../../css/lastest-style.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
    />
    <!-- Google Fonts - Poppins -->
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap"
      rel="stylesheet"
    />
    <!-- DataTables CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.datatables.net/buttons/2.4.1/css/buttons.bootstrap5.min.css"
    />
    <!-- Flag Icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css"
    />
    <style>
      .fade-in-custom {
        animation: fadeIn 0.5s ease-in-out;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }

        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .user-avatar {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        object-fit: cover;
      }

      .badge-browser {
        font-size: 0.8em;
        padding: 5px 8px;
      }

      .form-section {
        background-color: #f8f9fa;
        border-radius: 5px;
        padding: 20px;
        margin-bottom: 20px;
      }

      .visitor-status {
        padding: 5px 10px;
        border-radius: 20px;
        font-weight: 500;
        font-size: 0.85em;
      }

      .status-active {
        background-color: #d1fae5;
        color: #065f46;
      }

      .status-blocked {
        background-color: #fee2e2;
        color: #991b1b;
      }

      .status-suspicious {
        background-color: #fef3c7;
        color: #92400e;
      }

      .status-bot {
        background-color: #dbeafe;
        color: #1e40af;
      }

      .device-badge {
        font-size: 0.7em;
        padding: 3px 6px;
        margin-right: 3px;
      }

      .os-icon {
        font-size: 1.2em;
        margin-right: 5px;
      }

      .browser-icon {
        font-size: 1.2em;
        margin-right: 5px;
      }

      .flag-icon {
        font-size: 1.2em;
        margin-right: 5px;
        border-radius: 2px;
      }

      .ip-address {
        font-family: "Courier New", monospace;
        font-size: 0.9em;
        background-color: #f8f9fa;
        padding: 2px 6px;
        border-radius: 4px;
        border: 1px solid #dee2e6;
        color: var(--text-dark);
      }

      .connection-info {
        font-size: 0.85em;
        color: #6c757d;
      }

      .stats-card {
        border-radius: 10px;
        border: none;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        transition: transform 0.2s;
      }

      .stats-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
      }

      .stat {
        font-size: 2em;
        opacity: 0.8;
      }

      .real-time-badge {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% {
          opacity: 1;
        }

        50% {
          opacity: 0.7;
        }

        100% {
          opacity: 1;
        }
      }

      .map-container {
        height: 300px;
        border-radius: 10px;
        overflow: hidden;
        background-color: #f8f9fa;
        position: relative;
      }

      .map-placeholder {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100%;
        color: #6c757d;
      }

      .visitor-card {
        border-left: 4px solid #ff0089;
        transition: all 0.3s;
      }

      .visitor-card.blocked {
        border-left-color: #dc3545;
        opacity: 0.8;
      }

      .visitor-card.suspicious {
        border-left-color: #ffc107;
      }

      .visitor-card:hover {
        transform: translateX(5px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }

      .geo-badge {
        font-size: 0.75em;
        padding: 2px 5px;
        margin-left: 5px;
      }

      .toast-container {
        z-index: 9999;
      }

      .danger-zone {
        border: 2px solid #dc3545;
        border-radius: 10px;
        padding: 15px;
        background-color: var(--dark-bg);
        color: white;
      }

      .danger-zone h6 {
        color: #dc3545;
      }

      .visitor-timeline {
        position: relative;
        padding-left: 30px;
      }

      .visitor-timeline::before {
        content: "";
        position: absolute;
        left: 15px;
        top: 0;
        bottom: 0;
        width: 2px;
        background-color: #ff0089;
      }

      .timeline-item {
        position: relative;
        margin-bottom: 20px;
      }

      .timeline-item::before {
        content: "";
        position: absolute;
        left: -23px;
        top: 5px;
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background-color: #ff0089;
        border: 2px solid white;
        box-shadow: 0 0 0 2px #ff0089;
      }

      .connection-graph {
        height: 200px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 10px;
        position: relative;
        overflow: hidden;
      }

      .connection-graph::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0,50 Q25,30 50,50 T100,50" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="2"/></svg>');
        background-size: cover;
      }
    </style>
  </head>

  <body>
    <div class="wrapper">
      <!-- Sidebar Overlay -->
      <div class="sidebar-overlay" id="sidebarOverlay"></div>

      <!-- Sidebar -->
      <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
          <div class="d-flex align-items-center">
            <img
              src="../../../assets/img/brand/wasomupfy_brand.png"
              alt="Logo Wasom Upfy"
              class="rounded-circle me-2"
              style="height: 40px"
            />
            <span class="brand-text">Wasom Upfy</span>
          </div>
          <i
            class="bi bi-chevron-left toggle-icon"
            id="sidebarCollapse"
            title="Colapsar/Expandir Menu"
            aria-label="Colapsar/Expandir Menu"
          ></i>
        </div>
        <ul class="nav flex-column mt-3">
          <li class="nav-item">
            <a href="../../home.html" class="nav-link">
              <i class="bi bi-speedometer2"></i>
              <span>Painel de Controle</span>
            </a>
          </li>
          <li class="nav-item">
            <a
              href="#collapseAnalytics"
              class="nav-link active"
              data-bs-toggle="collapse"
              aria-expanded="false"
              aria-controls="collapseAnalytics"
            >
              <i class="bi bi-graph-up"></i>
              <span>Estatísticas e Análises</span>
              <i
                class="bi bi-chevron-down ms-auto"
                style="font-size: 0.8rem"
              ></i>
            </a>
            <div class="collapse" id="collapseAnalytics">
              <a href="../analytics/home.html" class="nav-link">
                <i class="bi bi-bar-chart-line"></i>
                <span>Visão Geral</span>
              </a>
              <a href="../analytics/artists.html" class="nav-link">
                <i class="bi bi-person-lines-fill"></i>
                <span>Desempenho por Artista</span>
              </a>
              <a href="../analytics/stores.html" class="nav-link">
                <i class="bi bi-shop"></i>
                <span>Desempenho por Loja Digital</span>
              </a>
              <a href="../analytics/reports.html" class="nav-link">
                <i class="bi bi-file-earmark-bar-graph"></i>
                <span>Relatórios Personalizados</span>
              </a>
            </div>
          </li>

          <li class="nav-item">
            <a
              href="#collapseAdmins"
              class="nav-link"
              data-bs-toggle="collapse"
              aria-expanded="false"
              aria-controls="collapseAdmins"
            >
              <i class="bi bi-person-gear"></i>
              <span>Gestão de Admins</span>
              <i
                class="bi bi-chevron-down ms-auto"
                style="font-size: 0.8rem"
              ></i>
            </a>
            <div class="collapse" id="collapseAdmins">
              <a href="../employees/all-employees.html" class="nav-link">
                <i class="bi bi-people"></i>
                <span>Listar Admins</span>
              </a>
              <a href="../employees/add.html" class="nav-link">
                <i class="bi bi-person-plus"></i>
                <span>Adicionar</span>
              </a>
              <a href="../employees/edit.html" class="nav-link">
                <i class="bi bi-person-gear"></i>
                <span>Editar</span>
              </a>
              <a href="../employees/delete.html" class="nav-link">
                <i class="bi bi-person-x"></i>
                <span>Excluir</span>
              </a>
            </div>
          </li>
          <li class="nav-item">
            <a
              href="#collapseUsers"
              class="nav-link"
              data-bs-toggle="collapse"
              aria-expanded="false"
              aria-controls="collapseUsers"
            >
              <i class="bi bi-person-gear"></i>
              <span>Gestão de Usuários</span>
              <i
                class="bi bi-chevron-down ms-auto"
                style="font-size: 0.8rem"
              ></i>
            </a>
            <div class="collapse" id="collapseUsers">
              <a href="../users/all-users.html" class="nav-link">
                <i class="bi bi-people"></i>
                <span>Todos Usuários</span>
              </a>
              <a href="../users/add.html" class="nav-link">
                <i class="bi bi-person-plus"></i>
                <span>Adicionar</span>
              </a>
              <a href="../users/edit.html" class="nav-link">
                <i class="bi bi-person-gear"></i>
                <span>Editar</span>
              </a>
              <a href="../users/delete.html" class="nav-link">
                <i class="bi bi-person-x"></i>
                <span>Excluir</span>
              </a>
              <a href="../users/available-account.html" class="nav-link">
                <i class="bi bi-person-check"></i>
                <span>Contas Disponíveis</span>
              </a>
              <a href="../users/unavailable-account.html" class="nav-link">
                <i class="bi bi-person-exclamation"></i>
                <span>Contas Indisponíveis</span>
              </a>
            </div>
          </li>
          <li class="nav-item">
            <a
              href="#collapseSongs"
              class="nav-link"
              data-bs-toggle="collapse"
              aria-expanded="false"
              aria-controls="collapseSongs"
            >
              <i class="bi bi-music-note-list"></i>
              <span>Gestão de Músicas</span>
              <i
                class="bi bi-chevron-down ms-auto"
                style="font-size: 0.8rem"
              ></i>
            </a>
            <div class="collapse" id="collapseSongs">
              <a href="../music/revise.html" class="nav-link">
                <i class="bi bi-eye"></i>
                <span>Revisar Envios</span>
              </a>
              <a href="../music/approve.html" class="nav-link">
                <i class="bi bi-check-circle"></i>
                <span>Aprovar</span>
              </a>
              <a href="../music/reject.html" class="nav-link">
                <i class="bi bi-x-circle"></i>
                <span>Rejeitar</span>
              </a>
            </div>
          </li>
          <li class="nav-item">
            <a href="../artist/accounts-users.html" class="nav-link">
              <i class="bi bi-person-check"></i>
              <span>Contas e Usuários</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="../artist/collaborators-artist.html" class="nav-link">
              <i class="bi bi-people"></i>
              <span>Artistas e Colaboradores</span>
            </a>
          </li>
          <li class="nav-item">
            <a
              href="#collapseDistribution"
              class="nav-link"
              data-bs-toggle="collapse"
              aria-expanded="false"
              aria-controls="collapseDistribution"
            >
              <i class="bi bi-globe"></i>
              <span>Distribuição</span>
              <i
                class="bi bi-chevron-down ms-auto"
                style="font-size: 0.8rem"
              ></i>
            </a>
            <div class="collapse" id="collapseDistribution">
              <a href="../distribution/releases.html" class="nav-link">
                <i class="bi bi-rocket-takeoff"></i>
                <span>Lançamentos</span>
              </a>
              <a href="../distribution/store.html" class="nav-link">
                <i class="bi bi-shop"></i>
                <span>Lojas Digitais</span>
              </a>
              <a href="../distribution/schedule.html" class="nav-link">
                <i class="bi bi-calendar-event"></i>
                <span>Agendar Lançamento</span>
              </a>
            </div>
          </li>
          <li class="nav-item">
            <a href="../manager/gestion.html" class="nav-link">
              <i class="bi bi-star"></i>
              <span>Gestão Geral</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="../finances/payments.html" class="nav-link">
              <i class="bi bi-wallet2"></i>
              <span>Pagamentos</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="../finances/earnings.html" class="nav-link">
              <i class="bi bi-currency-dollar"></i>
              <span>Finanças e Rendimentos</span>
            </a>
          </li>
          <li class="nav-item">
            <a
              href="#collapseIntegration"
              class="nav-link"
              data-bs-toggle="collapse"
              aria-expanded="false"
              aria-controls="collapseIntegration"
            >
              <i class="bi bi-youtube"></i>
              <span>Unificação e V. Youtube</span>
              <i
                class="bi bi-chevron-down ms-auto"
                style="font-size: 0.8rem"
              ></i>
            </a>
            <div class="collapse" id="collapseIntegration">
              <a href="../integration/youtube.html" class="nav-link">
                <i class="bi bi-gear"></i>
                <span>Configurar Integração</span>
              </a>
              <a href="../integration/verify.html" class="nav-link">
                <i class="bi bi-check2-all"></i>
                <span>Verificar Canais</span>
              </a>
              <a href="../integration/monetization.html" class="nav-link">
                <i class="bi bi-youtube"></i>
                <span>Gerenciamento de Conteúdo Monetizado</span>
              </a>
            </div>
          </li>

          <li class="nav-item">
            <a
              href="#collapseSupport"
              class="nav-link"
              data-bs-toggle="collapse"
              aria-expanded="false"
              aria-controls="collapseSupport"
            >
              <i class="bi bi-headset"></i>
              <span>Suporte</span>
              <span class="badge bg-danger badge-notification">3</span>
              <i
                class="bi bi-chevron-down ms-auto"
                style="font-size: 0.8rem"
              ></i>
            </a>
            <div class="collapse" id="collapseSupport">
              <a href="../messages/inbox.html" class="nav-link">
                <i class="bi bi-envelope"></i>
                <span>Caixa de entrada</span>
              </a>
              <a href="../messages/compose.html" class="nav-link">
                <i class="bi bi-pencil"></i>
                <span>Enviar mensagens</span>
              </a>
            </div>
          </li>

          <li class="nav-item">
            <a
              href="#collapseHelp"
              class="nav-link"
              data-bs-toggle="collapse"
              aria-expanded="false"
              aria-controls="collapseHelp"
            >
              <i class="bi bi-question-circle"></i>
              <span>Ajuda</span>
              <i
                class="bi bi-chevron-down ms-auto"
                style="font-size: 0.8rem"
              ></i>
            </a>
            <div class="collapse" id="collapseHelp">
              <a href="../help/faqs.html" class="nav-link">
                <i class="bi bi-messenger"></i>
                <span>FAQs</span>
              </a>
              <a href="../help/tutorials.html" class="nav-link">
                <i class="bi bi-book"></i>
                <span>Tutoriais</span>
              </a>
              <a href="../help/contact.html" class="nav-link">
                <i class="bi bi-telephone"></i>
                <span>Contacto com suporte</span>
              </a>
            </div>
          </li>
          <li class="nav-item">
            <a href="../settings/config.html" class="nav-link">
              <i class="bi bi-sliders"></i>
              <span>Configurações</span>
            </a>
          </li>
          <li class="nav-item mt-4">
            <a
              href="#"
              class="nav-link"
              data-bs-toggle="modal"
              data-bs-target="#logoutwasomupfy"
            >
              <i class="bi bi-box-arrow-right"></i>
              <span>Logout</span>
            </a>
          </li>
          <li class="nav-item mt-4">
            <a
              href="http://localhost:5500/home.html"
              target="_blank"
              class="nav-link"
            >
              <i class="bi bi-box-arrow-in-up-right"></i>
              <span>Visitar Site</span>
            </a>
          </li>
        </ul>
      </div>

      <!-- Content -->
      <div class="content w-100" id="mainContent">
        <nav class="navbar navbar-expand-lg">
          <button
            class="navbar-toggler"
            type="button"
            id="sidebarToggle"
            aria-label="Abrir/Fechar Menu"
          >
            <i class="bi bi-list text-white"></i>
          </button>
          <div class="ms-auto d-flex align-items-center">
            <button
              class="btn btn-outline-light btn-sm me-2"
              onclick="toggleDarkMode()"
              aria-label="Alternar Modo Escuro"
            >
              <i class="bi bi-moon"></i>
            </button>
            <div class="dropdown me-2 position-relative">
              <button
                class="btn btn-outline-light btn-sm position-relative"
                type="button"
                data-bs-toggle="dropdown"
                aria-label="Notificações"
              >
                <i class="bi bi-bell"></i>
                <span
                  class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
                  >5</span
                >
              </button>
              <ul
                class="dropdown-menu dropdown-menu-start p-0"
                style="min-width: 250px"
              >
                <li class="dropdown-header bg-dark text-white p-2">
                  Notificações (5)
                </li>
                <li>
                  <a class="dropdown-item p-2" href="#"
                    >Novo artista registrado</a
                  >
                </li>
                <li>
                  <a class="dropdown-item p-2" href="#"
                    >Música atingiu 1000 plays</a
                  >
                </li>
                <li>
                  <a class="dropdown-item p-2" href="#"
                    >Atualização do sistema disponível</a
                  >
                </li>
                <li class="dropdown-footer text-center p-2">
                  <a href="#" class="text-primary">Ver todas</a>
                </li>
              </ul>
            </div>
            <div class="dropdown me-2 position-relative">
              <button
                class="btn btn-outline-light btn-sm position-relative"
                type="button"
                data-bs-toggle="dropdown"
                aria-label="Mensagens"
              >
                <i class="bi bi-envelope"></i>
                <span
                  class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
                  >2</span
                >
              </button>
              <ul
                class="dropdown-menu dropdown-menu-start p-0"
                style="min-width: 250px"
              >
                <li class="dropdown-header bg-dark text-white p-2">
                  Mensagens (2)
                </li>
                <li>
                  <a class="dropdown-item p-2" href="#"
                    >Suporte #4521 - Novo ticket</a
                  >
                </li>
                <li>
                  <a class="dropdown-item p-2" href="#">Mensagem de artista</a>
                </li>
                <li class="dropdown-footer text-center p-2">
                  <a href="#" class="text-primary">Ver todas</a>
                </li>
              </ul>
            </div>
            <div class="dropdown">
              <button
                class="btn btn-outline-light btn-sm dropdown-toggle d-flex align-items-center"
                type="button"
                data-bs-toggle="dropdown"
                aria-label="Menu do Usuário"
              >
                <img
                  src="../../../assets/img/avatar/avatar.png"
                  alt="Usuário"
                  class="rounded-circle me-1"
                  style="height: 24px"
                />
                <span>Cristiano Amadeu</span>
              </button>
              <ul class="dropdown-menu dropdown-menu-end">
                <li>
                  <a class="dropdown-item" href="../user/profile.html"
                    ><i class="bi bi-person me-2"></i>Perfil</a
                  >
                </li>
                <li>
                  <a class="dropdown-item" href="../settings/config.html"
                    ><i class="bi bi-sliders me-2"></i>Configurações</a
                  >
                </li>
                <li>
                  <a class="dropdown-item" href="../help/help.html"
                    ><i class="bi bi-question-circle me-2"></i>Ajuda</a
                  >
                </li>
                <li>
                  <hr class="dropdown-divider" />
                </li>
                <li>
                  <a
                    class="dropdown-item"
                    data-bs-toggle="modal"
                    data-bs-target="#logoutwasomupfy"
                    href="#"
                    ><i class="bi bi-box-arrow-right me-2"></i>Sair</a
                  >
                </li>
              </ul>
            </div>
          </div>
        </nav>

        <!-- Adicione isso dentro da tag <nav class="bottom-nav"> -->
        <div class="connection-status" id="connectionStatus"></div>
        <div class="status-notification" id="statusNotification"></div>

        <!-- Modal logout -->
        <div
          class="modal fade"
          id="logoutwasomupfy"
          data-bs-backdrop="static"
          data-bs-keyboard="false"
          tabindex="-1"
          aria-labelledby="logoutwasomupfyLabel"
          aria-hidden="true"
        >
          <div class="modal-dialog">
            <div class="modal-content modal-bottom">
              <div class="modal-header">
                <h1
                  class="modal-title fs-5 text-dark"
                  id="logoutwasomupfyLabel"
                >
                  Terminar sessão
                </h1>
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="modal"
                  aria-label="Close"
                ></button>
              </div>
              <div class="modal-body">
                <div class="container">
                  <div class="row justify-content-center text-center">
                    <div
                      class="col-md-12 content-center justify-center text-center"
                    >
                      <p class="text-center text-dark">
                        @josembengadacosta você tem certeza de que desejas
                        terminar sessão?
                      </p>
                    </div>
                  </div>
                </div>
              </div>
              <div class="modal-footer">
                <div>
                  <button
                    type="button"
                    class="btn btn-primary"
                    data-bs-dismiss="modal"
                  >
                    Não, continuar
                  </button>
                </div>
                <div>
                  <button
                    class="btn btn-danger"
                    type="button"
                    name="logout_wasomupfy"
                    onclick="logout_wasomupfy()"
                  >
                    Sim, terminar
                  </button>
                </div>
                <script type="text/javascript">
                  function logout_wasomupfy() {
                    window.location = "logout";
                  }
                </script>
              </div>
            </div>
          </div>
        </div>
        <!-- Modal logout fim -->

        <div class="container-fluid py-0">
          <div class="row mb-3 mt-2">
            <div class="welcome-text col-auto d-sm-block">
              <h2 class="h4 mb-2">
                <i class="bi bi-eye-fill me-2"></i>Gerenciamento de Visitantes
              </h2>
              <nav aria-label="breadcrumb">
                <ol class="breadcrumb mb-0">
                  <li class="breadcrumb-item">
                    <a href="../../../home.html" class="text-secondary"
                      >Dashboard</a
                    >
                  </li>
                  <li class="breadcrumb-item">
                    <a href="../security/home.html" class="text-secondary"
                      >Segurança</a
                    >
                  </li>
                  <li
                    class="breadcrumb-item active text-white-stable"
                    aria-current="page"
                  >
                    Visitantes
                  </li>
                </ol>
              </nav>
            </div>
            <div class="col-auto ms-auto text-end mt-n1 mt-3 mb-2">
              <button
                class="btn btn-wasomupfy text-white shadow-sm me-2"
                id="refresh-visitors-btn"
              >
                <i class="bi bi-arrow-clockwise me-2"></i> Atualizar
              </button>
              <button
                class="btn btn-danger text-white shadow-sm"
                data-bs-toggle="modal"
                data-bs-target="#bulkDeleteModal"
              >
                <i class="bi bi-trash me-2"></i> Limpar Dados
              </button>
            </div>

            <!-- Stats Cards -->
            <div class="row g-3 mt-2 mb-4">
              <div class="col-md-3 d-flex">
                <div class="card stats-card-primary flex-fill">
                  <div class="card-body">
                    <div
                      class="d-flex justify-content-between align-items-center"
                    >
                      <div>
                        <h5 class="card-subtitle mb-2 text-white-stable">
                          Visitantes Online
                        </h5>
                        <h3
                          class="card-title mb-0 counter badge badge-soft-pink"
                          data-valor="0"
                          data-tipo="contagem"
                          id="online-count"
                        >
                          0
                        </h3>
                        <span class="badge bg-success real-time-badge"
                          >Tempo Real</span
                        >
                      </div>
                      <div class="stat">
                        <i class="bi bi-people-fill card-icon align-middle"></i>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-3 d-flex">
                <div class="card stats-card-primary flex-fill">
                  <div class="card-body">
                    <div
                      class="d-flex justify-content-between align-items-center"
                    >
                      <div>
                        <h5 class="card-subtitle mb-2 text-white-stable">
                          Total Visitantes
                        </h5>
                        <h3
                          class="card-title mb-0 counter badge badge-soft-pink"
                          data-valor="5"
                          data-tipo="contagem"
                          id="total-count"
                        >
                          0
                        </h3>
                        <small class="text-muted">Últimos 30 dias</small>
                      </div>
                      <div class="stat">
                        <i class="bi bi-graph-up card-icon align-middle"></i>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-3 d-flex">
                <div class="card stats-card-primary flex-fill">
                  <div class="card-body">
                    <div
                      class="d-flex justify-content-between align-items-center"
                    >
                      <div>
                        <h5 class="card-subtitle mb-2 text-white-stable">
                          Bloqueados
                        </h5>
                        <h3
                          class="card-title mb-0 counter badge badge-soft-pink"
                          data-tipo="contagem"
                          id="blocked-count"
                        >
                          0
                        </h3>
                        <small class="text-muted">IPs bloqueados</small>
                      </div>
                      <div class="stat">
                        <i class="bi bi-shield-lock card-icon align-middle"></i>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-3 d-flex">
                <div class="card stats-card-primary flex-fill">
                  <div class="card-body">
                    <div
                      class="d-flex justify-content-between align-items-center"
                    >
                      <div>
                        <h5 class="card-subtitle mb-2 text-white-stable">
                          Países
                        </h5>
                        <h3
                          class="card-title mb-0 counter badge badge-soft-pink"
                          data-valor="5"
                          data-tipo="contagem"
                          id="countries-count"
                        >
                          0
                        </h3>
                        <small class="text-muted">Origem diversificada</small>
                      </div>
                      <div class="stat">
                        <i class="bi bi-globe2 card-icon align-middle"></i>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Map Visualization -->
            <div class="row mb-4">
              <div class="col-12">
                <div class="card">
                  <div class="card-header">
                    <h5 class="card-title mb-0">
                      <i class="bi bi-geo-alt me-2"></i>Mapa de Visitantes em
                      Tempo Real
                    </h5>
                  </div>
                  <div class="card-body">
                    <div class="map-container">
                      <div class="map-placeholder" id="map-placeholder">
                        <div class="text-center">
                          <i
                            class="bi bi-globe-americas display-4 mb-3 text-muted"
                          ></i>
                          <p>Carregando mapa de conexões...</p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Filtros -->
            <div class="search-container fade-in-custom mt-3">
              <div class="row g-3">
                <div class="col-md-2">
                  <label for="filter-ip">Endereço IP:</label>
                  <input
                    type="text"
                    class="form-control"
                    id="filter-ip"
                    placeholder="Ex: 192.168.1.1"
                  />
                </div>
                <div class="col-md-2">
                  <label for="filter-country">País:</label>
                  <select class="form-select" id="filter-country">
                    <option value="">Todos</option>
                    <!-- Países serão carregados dinamicamente -->
                  </select>
                </div>
                <div class="col-md-2">
                  <label for="filter-browser">Navegador:</label>
                  <select class="form-select" id="filter-browser">
                    <option value="">Todos</option>
                    <option value="chrome">Chrome</option>
                    <option value="firefox">Firefox</option>
                    <option value="safari">Safari</option>
                    <option value="edge">Edge</option>
                    <option value="opera">Opera</option>
                  </select>
                </div>
                <div class="col-md-2">
                  <label for="filter-device">Dispositivo:</label>
                  <select class="form-select" id="filter-device">
                    <option value="">Todos</option>
                    <option value="desktop">Desktop</option>
                    <option value="mobile">Mobile</option>
                    <option value="tablet">Tablet</option>
                    <option value="bot">Bot/Crawler</option>
                  </select>
                </div>
                <div class="col-md-2">
                  <label for="filter-status">Status:</label>
                  <select class="form-select" id="filter-status">
                    <option value="">Todos</option>
                    <option value="active">Ativo</option>
                    <option value="blocked">Bloqueado</option>
                    <option value="suspicious">Suspeito</option>
                  </select>
                </div>
                <div class="col-md-2">
                  <label for="filter-date">Período:</label>
                  <select class="form-select" id="filter-date">
                    <option value="today">Hoje</option>
                    <option value="yesterday">Ontem</option>
                    <option value="week" selected>Últimos 7 dias</option>
                    <option value="month">Últimos 30 dias</option>
                    <option value="all">Todo período</option>
                  </select>
                </div>
              </div>
              <div
                class="d-flex justify-content-between align-items-center mt-2 mb-2"
              >
                <button class="btn btn-wasomupfy text-white" id="clear-filters">
                  <i class="bi bi-eraser me-2"></i> Limpar Filtros
                </button>
                <span class="badge bg-primary" id="visitor-results-count"
                  >0 resultados</span
                >
              </div>
            </div>

            <!-- Ações em Massa -->
            <div class="row mb-3">
              <div class="col-12">
                <div class="card">
                  <div class="card-body py-2">
                    <div
                      class="d-flex justify-content-between align-items-center"
                    >
                      <div>
                        <div class="form-check form-check-inline">
                          <input
                            class="form-check-input"
                            type="checkbox"
                            id="select-all-visitors"
                          />
                          <label
                            class="form-check-label"
                            for="select-all-visitors"
                            >Selecionar Todos</label
                          >
                        </div>
                        <span class="text-muted ms-3" id="selected-count"
                          >0 selecionados</span
                        >
                      </div>
                      <div class="btn-group">
                        <button
                          class="btn btn-outline-primary btn-sm"
                          id="export-selected-btn"
                        >
                          <i class="bi bi-download me-1"></i> Exportar
                        </button>
                        <button
                          class="btn btn-outline-warning btn-sm"
                          id="block-selected-btn"
                        >
                          <i class="bi bi-shield-lock me-1"></i> Bloquear
                        </button>
                        <button
                          class="btn btn-outline-danger btn-sm"
                          id="delete-selected-btn"
                        >
                          <i class="bi bi-trash me-1"></i> Excluir
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Tabela -->
            <div class="card fade-in-custom mt-3">
              <div class="table-responsive">
                <table
                  id="visitors-table"
                  class="table table-striped table-hover"
                >
                  <thead>
                    <tr>
                      <th width="30">
                        <input
                          type="checkbox"
                          class="form-check-input"
                          id="select-all-header"
                        />
                      </th>
                      <th>Visitante</th>
                      <th>Localização</th>
                      <th>Dispositivo/Navegador</th>
                      <th>IP & Conexão</th>
                      <th>Atividade</th>
                      <th>Status</th>
                      <th>Ações</th>
                    </tr>
                  </thead>
                  <tbody id="visitors-list">
                    <!-- Dados serão carregados via JavaScript -->
                    <tr>
                      <td colspan="8" class="text-center">
                        Carregando dados dos visitantes...
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <nav aria-label="Page navigation">
                <ul
                  class="pagination justify-content-center"
                  id="visitors-pagination"
                ></ul>
              </nav>
            </div>

            <!-- Conexões em Tempo Real -->
            <div class="row mt-4">
              <div class="col-md-8">
                <div class="card">
                  <div class="card-header">
                    <h5 class="card-title mb-0">
                      <i class="bi bi-activity me-2"></i>Atividade Recente
                    </h5>
                  </div>
                  <div class="card-body">
                    <div class="visitor-timeline" id="activity-timeline">
                      <!-- Atividades serão carregadas dinamicamente -->
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-4">
                <div class="card">
                  <div class="card-header">
                    <h5 class="card-title mb-0">
                      <i class="bi bi-pie-chart me-2"></i>Distribuição por
                      Navegador
                    </h5>
                  </div>
                  <div class="card-body">
                    <div id="browser-chart"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Modal de Detalhes do Visitante -->
        <div
          class="modal fade"
          id="viewVisitorModal"
          tabindex="-1"
          aria-hidden="true"
        >
          <div class="modal-dialog modal-fullscreen">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title">
                  <i class="bi bi-person-badge me-2"></i>Detalhes do Visitante
                </h5>
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="modal"
                  aria-label="Close"
                ></button>
              </div>
              <div class="modal-body" id="view-visitor-body">
                <!-- Conteúdo será preenchido via JavaScript -->
              </div>
              <div class="modal-footer">
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-bs-dismiss="modal"
                >
                  Fechar
                </button>
                <button
                  type="button"
                  class="btn btn-warning"
                  id="toggle-block-btn"
                >
                  <i class="bi bi-shield-lock me-2"></i> Bloquear/Desbloquear
                </button>
                <button
                  type="button"
                  class="btn btn-danger"
                  id="delete-visitor-btn"
                >
                  <i class="bi bi-trash me-2"></i> Excluir Registro
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Modal de Bloqueio -->
        <div
          class="modal fade"
          id="blockVisitorModal"
          tabindex="-1"
          aria-hidden="true"
        >
          <div class="modal-dialog modal-lg">
            <div class="modal-content">
              <div class="modal-header bg-warning">
                <h5 class="modal-title">
                  <i class="bi bi-shield-exclamation me-2"></i>Bloquear
                  Visitante
                </h5>
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="modal"
                  aria-label="Close"
                ></button>
              </div>
              <form id="block-visitor-form">
                <div class="modal-body">
                  <div id="block-visitor-details"></div>

                  <div class="form-section mt-3">
                    <h6>
                      <i class="bi bi-gear me-2"></i> Configurações de Bloqueio
                    </h6>
                    <div class="row g-3 mt-2">
                      <div class="col-md-6">
                        <label for="block-type" class="form-label"
                          >Tipo de Bloqueio*</label
                        >
                        <select class="form-select" id="block-type" required>
                          <option value="temporary">
                            Temporário (24 horas)
                          </option>
                          <option value="permanent">Permanente</option>
                          <option value="custom">Personalizado</option>
                        </select>
                      </div>
                      <div
                        class="col-md-6"
                        id="custom-block-duration"
                        style="display: none"
                      >
                        <label for="block-duration" class="form-label"
                          >Duração (dias)</label
                        >
                        <input
                          type="number"
                          class="form-control"
                          id="block-duration"
                          min="1"
                          max="365"
                          value="7"
                        />
                      </div>
                      <div class="col-md-12">
                        <label for="block-reason" class="form-label"
                          >Motivo do Bloqueio*</label
                        >
                        <select class="form-select" id="block-reason" required>
                          <option value="">Selecione um motivo</option>
                          <option value="spam">Spam/Abuso</option>
                          <option value="security">Ameaça de Segurança</option>
                          <option value="bot">Atividade de Bot</option>
                          <option value="multiple_failures">
                            Múltiplas Falhas de Login
                          </option>
                          <option value="suspicious">
                            Comportamento Suspeito
                          </option>
                          <option value="other">Outro</option>
                        </select>
                      </div>
                      <div class="col-md-12">
                        <label for="block-notes" class="form-label"
                          >Observações Adicionais</label
                        >
                        <textarea
                          class="form-control"
                          id="block-notes"
                          rows="3"
                          placeholder="Detalhes adicionais sobre o bloqueio..."
                        ></textarea>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="modal-footer">
                  <button
                    type="button"
                    class="btn btn-secondary"
                    data-bs-dismiss="modal"
                  >
                    Cancelar
                  </button>
                  <button type="submit" class="btn btn-warning">
                    <i class="bi bi-shield-lock me-2"></i> Confirmar Bloqueio
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>

        <!-- Modal de Exclusão em Massa -->
        <div
          class="modal fade"
          id="bulkDeleteModal"
          tabindex="-1"
          aria-hidden="true"
        >
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header bg-danger text-white">
                <h5 class="modal-title">
                  <i class="bi bi-exclamation-triangle-fill me-2"></i>Limpar
                  Dados de Visitantes
                </h5>
                <button
                  type="button"
                  class="btn-close btn-close-white"
                  data-bs-dismiss="modal"
                  aria-label="Close"
                ></button>
              </div>
              <form id="bulk-delete-form">
                <div class="modal-body">
                  <div class="danger-zone">
                    <h6>
                      <i class="bi bi-alarm me-2"></i>ATENÇÃO: Esta ação não
                      pode ser desfeita!
                    </h6>
                    <p class="mb-3 text-white-stable">
                      Você está prestes a excluir todos os registros de
                      visitantes. Esta ação removerá permanentemente:
                    </p>
                    <ul class="text-white-stable">
                      <li>Todos os registros de IPs</li>
                      <li>Histórico de navegação</li>
                      <li>Dados de dispositivo</li>
                      <li>Informações de localização</li>
                      <li>Registros de atividade</li>
                    </ul>
                  </div>

                  <div class="mt-4">
                    <div class="mb-3">
                      <label for="delete-option" class="form-label"
                        >Opção de Limpeza*</label
                      >
                      <select class="form-select" id="delete-option" required>
                        <option value="">Selecione uma opção</option>
                        <option value="all">
                          Excluir TUDO (todos os registros)
                        </option>
                        <option value="older_30">
                          Excluir registros com mais de 30 dias
                        </option>
                        <option value="older_90">
                          Excluir registros com mais de 90 dias
                        </option>
                        <option value="blocked">
                          Excluir apenas registros bloqueados
                        </option>
                      </select>
                    </div>

                    <div class="mb-3">
                      <label for="delete-confirm" class="form-label"
                        >Digite "EXCLUIR TUDO" para confirmar*</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="delete-confirm"
                        required
                      />
                    </div>

                    <div class="mb-3">
                      <label for="admin-password-bulk" class="form-label"
                        >Senha de Administrador*</label
                      >
                      <input
                        type="password"
                        class="form-control"
                        id="admin-password-bulk"
                        required
                      />
                    </div>
                  </div>
                </div>
                <div class="modal-footer">
                  <button
                    type="button"
                    class="btn btn-secondary"
                    data-bs-dismiss="modal"
                  >
                    <i class="bi bi-x-circle me-2"></i>Cancelar
                  </button>
                  <button type="submit" class="btn btn-danger">
                    <i class="bi bi-trash3-fill me-2"></i>Confirmar Limpeza
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>

        <!-- Modal de Exportação -->
        <div
          class="modal fade"
          id="exportModal"
          tabindex="-1"
          aria-hidden="true"
        >
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title">
                  <i class="bi bi-download me-2"></i>Exportar Dados
                </h5>
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="modal"
                  aria-label="Close"
                ></button>
              </div>
              <form id="export-form">
                <div class="modal-body">
                  <div class="mb-3">
                    <label for="export-format" class="form-label"
                      >Formato de Exportação*</label
                    >
                    <select class="form-select" id="export-format" required>
                      <option value="csv">CSV (Excel)</option>
                      <option value="json">JSON</option>
                      <option value="pdf">PDF</option>
                      <option value="excel">Excel (XLSX)</option>
                    </select>
                  </div>

                  <div class="mb-3">
                    <label for="export-range" class="form-label"
                      >Período*</label
                    >
                    <select class="form-select" id="export-range" required>
                      <option value="selected">Apenas selecionados</option>
                      <option value="filtered">Resultados filtrados</option>
                      <option value="all">Todos os registros</option>
                      <option value="today">Hoje</option>
                      <option value="week">Últimos 7 dias</option>
                      <option value="month">Últimos 30 dias</option>
                    </select>
                  </div>

                  <div class="mb-3">
                    <label for="export-fields" class="form-label"
                      >Campos a Incluir</label
                    >
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="checkbox"
                        id="field-ip"
                        checked
                      />
                      <label class="form-check-label" for="field-ip"
                        >Endereço IP</label
                      >
                    </div>
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="checkbox"
                        id="field-location"
                        checked
                      />
                      <label class="form-check-label" for="field-location"
                        >Localização</label
                      >
                    </div>
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="checkbox"
                        id="field-device"
                        checked
                      />
                      <label class="form-check-label" for="field-device"
                        >Dispositivo</label
                      >
                    </div>
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="checkbox"
                        id="field-browser"
                        checked
                      />
                      <label class="form-check-label" for="field-browser"
                        >Navegador</label
                      >
                    </div>
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="checkbox"
                        id="field-activity"
                        checked
                      />
                      <label class="form-check-label" for="field-activity"
                        >Atividade</label
                      >
                    </div>
                  </div>
                </div>
                <div class="modal-footer">
                  <button
                    type="button"
                    class="btn btn-secondary"
                    data-bs-dismiss="modal"
                  >
                    Cancelar
                  </button>
                  <button type="submit" class="btn btn-success">
                    <i class="bi bi-download me-2"></i> Exportar
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer>
      <div class="container">
        <div class="row">
          <div class="col-12 text-center">
            <p class="mb-2">© 2026 Wasom Upfy. Todos os direitos reservados.</p>
            <a href="#" class="me-2">Termos de Uso</a>
            <a href="#" class="me-2">Privacidade</a>
            <a href="#">Suporte</a>
          </div>
        </div>
      </div>
    </footer>

    <!-- Bottom Navigation -->
    <!-- <nav class="bottom-nav">
    <ul>
        <li>
            <a href="home.html" class="active">
                <i class="bi bi-speedometer2"></i>
                <span>Dashboard</span>
            </a>
        </li>
        <li>
            <a href="pages/music/approve.html">
                <i class="bi bi-music-note-list"></i>
                <span>Músicas</span>
            </a>
        </li>
        <li>
            <a href="pages/users/all-users.html">
                <i class="bi bi-people"></i>
                <span>Usuários</span>
            </a>
        </li>
        <li>
            <a href="pages/finances/earnings.html">
                <i class="bi bi-currency-dollar"></i>
                <span>Finanças</span>
            </a>
        </li>
        <li>
            <a href="pages/settings/config.html">
                <i class="bi bi-sliders"></i>
                <span>Config</span>
            </a>
        </li>
    </ul>
</nav> -->

    <div class="page-loader" id="pageLoader">
      <div class="loader-content">
        <!-- Sua imagem pulsante -->
        <img
          src="../../../assets/img/brand/wasomupfy_brand.png"
          class="loader-image"
          alt="Carregando"
        />
        <!-- Barra de progresso agora perfeitamente centralizada -->
        <div class="loader-progress"></div>
      </div>
    </div>

    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="../../../js/lastest.js"></script>
    <script src="../../../js/lastest.min.js"></script>
    <!-- DataTables -->
    <script src="https://cdn.datatables.net/v/bs5/dt-1.13.6/datatables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- html2pdf -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="js/visitors.js"></script>
  </body>
</html>
