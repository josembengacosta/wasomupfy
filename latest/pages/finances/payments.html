<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="robots" content="noindex, nofollow">
    <meta name="author" content="Voosoft" />
    <meta name="theme-color" content="#FF0089">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="#FF0089">
    <link rel="apple-touch-icon" href="../../../assets/img/icones/wasomupfy_fiv_512.png">
    <link rel="apple-touch-startup-image" href="../../../assets/img/screenshots/splash.png">
    <link rel="manifest" href="../../../manifest.json">
    <title>Gerenciamento de Pagamentos - WASOM UPFY</title>
    <link rel="shortcut icon" href="../../../assets/img/icones/wasomupfy_fiv.png" type="image/x-icon">
    <link rel="stylesheet" href="../../../css/libs/plugins.css">
    <link rel="stylesheet" href="../../../css/libs/scrollue.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/simplebar@6.2.5/dist/simplebar.min.css" />
    <link rel="stylesheet" href="../../../css/lastest-style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <!-- Google Fonts - Poppins -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <!-- DataTables CSS -->
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.4.1/css/buttons.bootstrap5.min.css">
    <style>
        .fade-in-custom {
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .btn-wasomupfy {
            background-color: #6c5ce7;
            border-color: #6c5ce7;
            color: white;
        }

        .btn-wasomupfy:hover {
            background-color: #5649c0;
            border-color: #5649c0;
            color: white;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
        }

        .badge-plan {
            font-size: 0.8em;
            padding: 5px 8px;
        }

        .form-section {
            background-color: #f8f9fa;
            border-radius: 5px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .payment-status {
            padding: 5px 10px;
            border-radius: 20px;
            font-weight: 500;
            font-size: 0.85em;
        }

        .status-paid {
            background-color: #d1fae5;
            color: #065f46;
        }

        .status-pending {
            background-color: #fef3c7;
            color: #92400e;
        }

        .status-approved {
            background-color: #dbeafe;
            color: #1e40af;
        }

        .status-rejected {
            background-color: #fee2e2;
            color: #991b1b;
        }

        .receipt-preview {
            border: 1px dashed #ccc;
            min-height: 300px;
            padding: 20px;
            background-color: white;
        }

        .receipt-logo {
            max-width: 150px;
            margin-bottom: 20px;
        }

        /* Toast Container */
        .toast-container {
            z-index: 9999;
        }

        /* Modal de exclusão customizado */
        .modal-delete-preview {
            max-height: 300px;
            overflow-y: auto;
        }
    </style>
</head>

<body>

    <div class="wrapper">
        <!-- Sidebar Overlay -->
        <div class="sidebar-overlay" id="sidebarOverlay"></div>

        <!-- Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="d-flex align-items-center">
                    <img src="../../../assets/img/brand/wasomupfy_brand.png" alt="Logo Wasom Upfy"
                        class="rounded-circle me-2" style="height: 40px;">
                    <span class="brand-text">Wasom Upfy</span>
                </div>
                <i class="bi bi-chevron-left toggle-icon" id="sidebarCollapse" title="Colapsar/Expandir Menu"
                    aria-label="Colapsar/Expandir Menu"></i>
            </div>
            <ul class="nav flex-column mt-3">
                <li class="nav-item">
                    <a href="../../home.html" class="nav-link">
                        <i class="bi bi-speedometer2"></i>
                        <span>Painel de Controle</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#collapseAnalytics" class="nav-link" data-bs-toggle="collapse" aria-expanded="false"
                        aria-controls="collapseAnalytics">
                        <i class="bi bi-graph-up"></i>
                        <span>Estatísticas e Análises</span>
                        <i class="bi bi-chevron-down ms-auto" style="font-size: 0.8rem;"></i>
                    </a>
                    <div class="collapse" id="collapseAnalytics">
                        <a href="../analytics/home.html" class="nav-link">
                            <i class="bi bi-bar-chart-line"></i>
                            <span>Visão Geral</span>
                        </a>
                        <a href="../analytics/artists.html" class="nav-link">
                            <i class="bi bi-person-lines-fill"></i>
                            <span>Desempenho por Artista</span>
                        </a>
                        <a href="../analytics/stores.html" class="nav-link">
                            <i class="bi bi-shop"></i>
                            <span>Desempenho por Loja Digital</span>
                        </a>
                        <a href="../analytics/reports.html" class="nav-link">
                            <i class="bi bi-file-earmark-bar-graph"></i>
                            <span>Relatórios Personalizados</span>
                        </a>
                    </div>
                </li>

                <li class="nav-item">
                    <a href="#collapseAdmins" class="nav-link" data-bs-toggle="collapse" aria-expanded="false"
                        aria-controls="collapseAdmins">
                        <i class="bi bi-person-gear"></i>
                        <span>Gestão de Admins</span>
                        <i class="bi bi-chevron-down ms-auto" style="font-size: 0.8rem;"></i>
                    </a>
                    <div class="collapse" id="collapseAdmins">
                        <a href="../employees/all-employees.html" class="nav-link">
                            <i class="bi bi-people"></i>
                            <span>Listar Admins</span>
                        </a>
                        <a href="../employees/add.html" class="nav-link">
                            <i class="bi bi-person-plus"></i>
                            <span>Adicionar</span>
                        </a>
                        <a href="../employees/edit.html" class="nav-link">
                            <i class="bi bi-person-gear"></i>
                            <span>Editar</span>
                        </a>
                        <a href="../employees/delete.html" class="nav-link">
                            <i class="bi bi-person-x"></i>
                            <span>Excluir</span>
                        </a>
                    </div>
                </li>
                <li class="nav-item">
                    <a href="#collapseUsers" class="nav-link" data-bs-toggle="collapse" aria-expanded="false"
                        aria-controls="collapseUsers">
                        <i class="bi bi-person-gear"></i>
                        <span>Gestão de Usuários</span>
                        <i class="bi bi-chevron-down ms-auto" style="font-size: 0.8rem;"></i>
                    </a>
                    <div class="collapse" id="collapseUsers">
                        <a href="../users/all-users.html" class="nav-link">
                            <i class="bi bi-people"></i>
                            <span>Listar Usuários</span>
                        </a>
                        <a href="../users/add.html" class="nav-link">
                            <i class="bi bi-person-plus"></i>
                            <span>Adicionar</span>
                        </a>
                        <a href="../users/edit.html" class="nav-link">
                            <i class="bi bi-person-gear"></i>
                            <span>Editar</span>
                        </a>
                        <a href="../users/delete.html" class="nav-link">
                            <i class="bi bi-person-x"></i>
                            <span>Excluir</span>
                        </a>
                        <a href="../users/available-account.html" class="nav-link">
                            <i class="bi bi-person-check"></i>
                            <span>Contas Disponíveis</span>
                        </a>
                        <a href="../users/unavailable-account.html" class="nav-link">
                            <i class="bi bi-person-exclamation"></i>
                            <span>Contas Indisponíveis</span>
                        </a>
                    </div>
                </li>
                <li class="nav-item">
                    <a href="#collapseSongs" class="nav-link" data-bs-toggle="collapse" aria-expanded="false"
                        aria-controls="collapseSongs">
                        <i class="bi bi-music-note-list"></i>
                        <span>Gestão de Músicas</span>
                        <i class="bi bi-chevron-down ms-auto" style="font-size: 0.8rem;"></i>
                    </a>
                    <div class="collapse" id="collapseSongs">
                        <a href="../music/revise.html" class="nav-link">
                            <i class="bi bi-eye"></i>
                            <span>Revisar Envios</span>
                        </a>
                        <a href="../music/approve.html" class="nav-link">
                            <i class="bi bi-check-circle"></i>
                            <span>Aprovar</span>
                        </a>
                        <a href="../music/reject.html" class="nav-link">
                            <i class="bi bi-x-circle"></i>
                            <span>Rejeitar</span>
                        </a>
                    </div>
                </li>
                <li class="nav-item">
                    <a href="../artist/accounts-users.html" class="nav-link">
                        <i class="bi bi-person-check"></i>
                        <span>Contas e Usuários</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="../artist/collaborators-artist.html" class="nav-link">
                        <i class="bi bi-people"></i>
                        <span>Artistas e Colaboradores</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#collapseDistribution" class="nav-link" data-bs-toggle="collapse" aria-expanded="false"
                        aria-controls="collapseDistribution">
                        <i class="bi bi-globe"></i>
                        <span>Distribuição</span>
                        <i class="bi bi-chevron-down ms-auto" style="font-size: 0.8rem;"></i>
                    </a>
                    <div class="collapse" id="collapseDistribution">
                        <a href="../distribution/releases.html" class="nav-link">
                            <i class="bi bi-rocket-takeoff"></i>
                            <span>Lançamentos</span>
                        </a>
                        <a href="../distribution/store.html" class="nav-link">
                            <i class="bi bi-shop"></i>
                            <span>Lojas Digitais</span>
                        </a>
                        <a href="../distribution/schedule.html" class="nav-link">
                            <i class="bi bi-calendar-event"></i>
                            <span>Agendar Lançamento</span>
                        </a>
                    </div>
                </li>
                <li class="nav-item">
                    <a href="../manager/gestion.html" class="nav-link">
                        <i class="bi bi-star"></i>
                        <span>Gestão Geral</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="../finances/payments.html" class="nav-link active">
                        <i class="bi bi-wallet2"></i>
                        <span>Pagamentos</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="../finances/earnings.html" class="nav-link">
                        <i class="bi bi-currency-dollar"></i>
                        <span>Finanças e Rendimentos</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#collapseIntegration" class="nav-link" data-bs-toggle="collapse" aria-expanded="false"
                        aria-controls="collapseIntegration">
                        <i class="bi bi-youtube"></i>
                        <span>Unificação e V. Youtube</span>
                        <i class="bi bi-chevron-down ms-auto" style="font-size: 0.8rem;"></i>
                    </a>
                    <div class="collapse" id="collapseIntegration">
                        <a href="../integration/youtube.html" class="nav-link">
                            <i class="bi bi-gear"></i>
                            <span>Configurar Integração</span>
                        </a>
                        <a href="../integration/verify.html" class="nav-link">
                            <i class="bi bi-check2-all"></i>
                            <span>Verificar Canais</span>
                        </a>
                        <a href="../distribution/monetization.html" class="nav-link">
                            <i class="bi bi-youtube"></i>
                            <span>Gerenciamento de Conteúdo Monetizado</span>
                        </a>
                    </div>
                </li>

                <li class="nav-item">
                    <a href="#collapseSupport" class="nav-link" data-bs-toggle="collapse" aria-expanded="false"
                        aria-controls="collapseSupport">
                        <i class="bi bi-headset"></i>
                        <span>Suporte</span>
                        <span class="badge bg-danger badge-notification">3</span>
                        <i class="bi bi-chevron-down ms-auto" style="font-size: 0.8rem;"></i>
                    </a>
                    <div class="collapse" id="collapseSupport">
                        <a href="../messages/inbox.html" class="nav-link">
                            <i class="bi bi-envelope"></i>
                            <span>Caixa de entrada</span>
                        </a>
                        <a href="../messages/compose.html" class="nav-link">
                            <i class="bi bi-pencil"></i>
                            <span>Enviar mensagens</span>
                        </a>
                    </div>
                </li>

                <li class="nav-item">
                    <a href="#collapseHelp" class="nav-link" data-bs-toggle="collapse" aria-expanded="false"
                        aria-controls="collapseHelp">
                        <i class="bi bi-question-circle"></i>
                        <span>Ajuda</span>
                        <i class="bi bi-chevron-down ms-auto" style="font-size: 0.8rem;"></i>
                    </a>
                    <div class="collapse" id="collapseHelp">
                        <a href="../help/faqs.html" class="nav-link">
                            <i class="bi bi-messenger"></i>
                            <span>FAQs</span>
                        </a>
                        <a href="../help/tutorials.html" class="nav-link">
                            <i class="bi bi-book"></i>
                            <span>Tutoriais</span>
                        </a>
                        <a href="../help/contact.html" class="nav-link">
                            <i class="bi bi-telephone"></i>
                            <span>Contacto com suporte</span>
                        </a>
                    </div>
                </li>
                <li class="nav-item">
                    <a href="../settings/config.html" class="nav-link">
                        <i class="bi bi-sliders"></i>
                        <span>Configurações</span>
                    </a>
                </li>
                <li class="nav-item mt-4">
                    <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#logoutwasomupfy">
                        <i class="bi bi-box-arrow-right"></i>
                        <span>Logout</span>
                    </a>
                </li>
                <li class="nav-item mt-4">
                    <a href="http://localhost:5500/home.html" target="_blank" class="nav-link">
                        <i class="bi bi-box-arrow-in-up-right"></i>
                        <span>Visitar Site</span>
                    </a>
                </li>
            </ul>
        </div>

        <!-- Content -->
        <div class="content w-100" id="mainContent">
            <nav class="navbar navbar-expand-lg">
                <button class="navbar-toggler" type="button" id="sidebarToggle" aria-label="Abrir/Fechar Menu">
                    <i class="bi bi-list text-white"></i>
                </button>
                <div class="ms-auto d-flex align-items-center">
                    <button class="btn btn-outline-light btn-sm me-2" onclick="toggleDarkMode()"
                        aria-label="Alternar Modo Escuro">
                        <i class="bi bi-moon"></i>
                    </button>
                    <div class="dropdown me-2 position-relative">
                        <button class="btn btn-outline-light btn-sm position-relative" type="button"
                            data-bs-toggle="dropdown" aria-label="Notificações">
                            <i class="bi bi-bell"></i>
                            <span
                                class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">5</span>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-start p-0" style="min-width: 250px;">
                            <li class="dropdown-header bg-dark text-white p-2">Notificações (5)</li>
                            <li><a class="dropdown-item p-2" href="#">Novo artista registrado</a></li>
                            <li><a class="dropdown-item p-2" href="#">Música atingiu 1000 plays</a></li>
                            <li><a class="dropdown-item p-2" href="#">Atualização do sistema disponível</a></li>
                            <li class="dropdown-footer text-center p-2"><a href="#" class="text-primary">Ver todas</a>
                            </li>
                        </ul>
                    </div>
                    <div class="dropdown me-2 position-relative">
                        <button class="btn btn-outline-light btn-sm position-relative" type="button"
                            data-bs-toggle="dropdown" aria-label="Mensagens">
                            <i class="bi bi-envelope"></i>
                            <span
                                class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">2</span>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-start p-0" style="min-width: 250px;">
                            <li class="dropdown-header bg-dark text-white p-2">Mensagens (2)</li>
                            <li><a class="dropdown-item p-2" href="#">Suporte #4521 - Novo ticket</a></li>
                            <li><a class="dropdown-item p-2" href="#">Mensagem de artista</a></li>
                            <li class="dropdown-footer text-center p-2"><a href="#" class="text-primary">Ver todas</a>
                            </li>
                        </ul>
                    </div>
                    <div class="dropdown">
                        <button class="btn btn-outline-light btn-sm dropdown-toggle d-flex align-items-center"
                            type="button" data-bs-toggle="dropdown" aria-label="Menu do Usuário">
                            <img src="../../../assets/img/avatar/avatar.png" alt="Usuário" class="rounded-circle me-1"
                                style="height: 24px;">
                            <span>Cristiano Amadeu</span>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li><a class="dropdown-item" href="../user/profile.html"><i
                                        class="bi bi-person me-2"></i>Perfil</a></li>
                            <li><a class="dropdown-item" href="../settings/config.html"><i
                                        class="bi bi-sliders me-2"></i>Configurações</a></li>
                            <li><a class="dropdown-item" href="../help/help.html"><i
                                        class="bi bi-question-circle me-2"></i>Ajuda</a>
                            </li>
                            <li>
                                <hr class="dropdown-divider">
                            </li>
                            <li><a class="dropdown-item" data-bs-toggle="modal" data-bs-target="#logoutwasomupfy"
                                    href="#"><i class="bi bi-box-arrow-right me-2"></i>Sair</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>

            <!-- Adicione isso dentro da tag <nav class="bottom-nav"> -->
            <div class="connection-status" id="connectionStatus"></div>
            <div class="status-notification" id="statusNotification"></div>

            <div class="container-fluid py-0">
                <div class="row mb-3 mt-2">
                    <div class="welcome-text col-auto d-sm-block">
                        <h2 class="h4 mb-2">Gerenciamento de Pagamentos</span></h2>
                        <nav aria-label="breadcrumb">
                            <ol class="breadcrumb mb-0">
                                <li class="breadcrumb-item"><a href="../finances/payments.html"
                                        class="text-secondary">Pagamentos</a>
                                </li>
                                <li class="breadcrumb-item active text-secondary" aria-current="page">Gerenciamento de
                                    Pagamentos</li>
                            </ol>
                        </nav>
                    </div>
                    <div class="col-auto ms-auto text-end mt-n1 mt-3 mb-2">
                        <button class="btn btn-wasomupfy text-white shadow-sm" data-bs-toggle="modal"
                            data-bs-target="#addPaymentModal">
                            <i class="align-middle bi bi-plus"></i> Registrar Pagamento</button>
                    </div>


                    <!-- Stats Description -->
                    <p class="stats-description mt-2">
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Quasi veritatis dicta omnis accusantium
                        expedita repudiandae dolorem dignissimos quisquam. Sapiente magnam corrupti assumenda minus,
                        animi itaque explicabo a autem nemo ipsam!.
                    </p>

                    <!-- Filtros -->
                    <div class="search-container fade-in-custom mt-3">
                        <div class="row g-3">
                            <div class="col-md-2">
                                <label for="filter-payment-id">ID Pagamento:</label>
                                <input type="number" class="form-control" id="filter-payment-id" placeholder="ID">
                            </div>
                            <div class="col-md-2">
                                <label for="filter-user-email">E-mail do Usuário:</label>
                                <input type="email" class="form-control" id="filter-user-email" placeholder="E-mail">
                            </div>
                            <div class="col-md-2">
                                <label for="filter-user-name">Nome:</label>
                                <input type="text" class="form-control" id="filter-user-name" placeholder="Nome">
                            </div>
                            <div class="col-md-2">
                                <label for="filter-payment-plan">Plano:</label>
                                <select class="form-select" id="filter-payment-plan">
                                    <option value="">Todos</option>
                                    <option value="single">Single</option>
                                    <option value="album">Album</option>
                                    <option value="artist">Artista</option>
                                    <option value="Label">Label</option>
                                </select>
                            </div>
                            <div class="col-md-2">
                                <label for="filter-payment-method">Método:</label>
                                <select class="form-select" id="filter-payment-method">
                                    <option value="">Todos</option>
                                    <option value="pix">PIX</option>
                                    <option value="credit_card">Cartão de Crédito</option>
                                    <option value="bank_transfer">Transferência Bancária</option>
                                    <option value="iban">IBAN</option>
                                    <option value="express">Express</option>
                                    <option value="paypal">PayPal</option>
                                    <option value="mpesa">MPesa</option>
                                </select>
                            </div>
                            <div class="col-md-2">
                                <label for="filter-payment-status">Estado:</label>
                                <select class="form-select" id="filter-payment-status">
                                    <option value="">Todos</option>
                                    <option value="paid">Pago</option>
                                    <option value="pending">Em Análise</option>
                                    <option value="approved">Aprovado</option>
                                    <option value="rejected">Recusado</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label for="date-from">De:</label>
                                <input type="date" class="form-control" id="date-from">
                            </div>
                            <div class="col-md-3">
                                <label for="date-to">Até:</label>
                                <input type="date" class="form-control" id="date-to">
                            </div>
                            <div class="col-md-3">
                                <label for="amount-min">Valor Mín:</label>
                                <input type="number" class="form-control" id="amount-min" placeholder="KZ">
                            </div>
                            <div class="col-md-3">
                                <label for="amount-max">Valor Máx:</label>
                                <input type="number" class="form-control" id="amount-max" placeholder="KZ">
                            </div>
                        </div>
                        <div class="d-flex justify-content-between align-items-center mt-2 mb-2">
                            <button class="btn btn-wasomupfy text-white" id="clear-payment-filters">
                                <i class="bi bi-eraser me-2"></i> Limpar Filtros
                            </button>
                            <span class="badge bg-primary" id="payment-results-count">0 resultados</span>
                        </div>
                    </div>
                </div>

                <!-- Tabela -->
                <div class="card fade-in-custom mt-3">
                    <div class="table-responsive">
                        <table id="payments-table" class="table table-striped table-hover">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Usuário</th>
                                    <th>Plano</th>
                                    <th>Valor</th>
                                    <th>Método</th>
                                    <th>Estado</th>
                                    <th>Data/Hora</th>
                                    <th>Ações</th>
                                </tr>
                            </thead>
                            <tbody id="payments-list">
                                <!-- Dados serão carregados via JavaScript -->
                                <tr>
                                    <td colspan="8" class="text-center">Carregando pagamentos...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <nav aria-label="Page navigation">
                        <ul class="pagination justify-content-center" id="payments-pagination"></ul>
                    </nav>
                </div>
            </div>

            <!-- Modal de Visualização Completa -->
            <div class="modal fade" id="viewPaymentModal" tabindex="-1" aria-hidden="true">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title"><i class="bi bi-eye me-2"></i>Detalhes do Pagamento</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body" id="view-payment-body">
                            <!-- Conteúdo será preenchido via JavaScript -->
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                            <button type="button" class="btn btn-wasomupfy" id="generate-receipt-btn">
                                <i class="bi bi-receipt me-2"></i> Gerar Recibo
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Modal de Recibo -->
            <div class="modal fade" id="receiptModal" tabindex="-1" aria-hidden="true">
                <div class="modal-dialog modal-xl">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title"><i class="bi bi-receipt me-2"></i>Recibo de Pagamento - WASOM UPFY
                            </h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div class="receipt-preview" id="receipt-content">
                                <div class="text-center mb-4">
                                    <img src="../../../assets/img/brand/wasomupfy_brand.png" alt="WASOM UPFY Logo"
                                        class="receipt-logo">
                                    <h4>RECIBO DE PAGAMENTO</h4>
                                    <p class="text-muted">Nº: <span id="receipt-number">UPFY-20230001</span></p>
                                </div>

                                <div class="row mb-4">
                                    <div class="col-md-6">
                                        <h6>Informações do Cliente</h6>
                                        <p>
                                            <strong>Nome:</strong> <span id="receipt-client-name">Carlos
                                                Silva</span><br>
                                            <strong>E-mail:</strong> <span
                                                id="receipt-client-email">carlos@example.com</span><br>
                                            <strong>Telefone:</strong> <span id="receipt-client-phone">+244 123 456
                                                789</span><br>
                                            <strong>País:</strong> <span id="receipt-client-country">Angola</span>
                                        </p>
                                    </div>
                                    <div class="col-md-6 text-end">
                                        <h6>Informações do Pagamento</h6>
                                        <p>
                                            <strong>Data:</strong> <span id="receipt-date">10/08/2023 14:30</span><br>
                                            <strong>ID Pagamento:</strong> <span
                                                id="receipt-payment-id">PAY-12345</span><br>
                                            <strong>Método:</strong> <span id="receipt-method">PIX</span><br>
                                            <strong>Status:</strong> <span id="receipt-status"
                                                class="payment-status status-paid">Pago</span>
                                        </p>
                                    </div>
                                </div>

                                <div class="table-responsive mb-4">
                                    <table class="table table-bordered">
                                        <thead>
                                            <tr>
                                                <th>Descrição</th>
                                                <th>Plano</th>
                                                <th>Valor</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Assinatura WASOM UPFY</td>
                                                <td id="receipt-plan">Plano Manager</td>
                                                <td id="receipt-amount">R$ 299,90</td>
                                            </tr>
                                        </tbody>
                                        <tfoot>
                                            <tr>
                                                <th colspan="2" class="text-end">Total:</th>
                                                <th id="receipt-total">R$ 299,90</th>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div>

                                <div class="row">
                                    <div class="col-md-6">
                                        <h6>Informações da Empresa</h6>
                                        <p>
                                            <strong>WASOM UPFY</strong><br>
                                            Distribuição Digital de Músicas<br>
                                            Email: financeiro@wasomupfy.com<br>
                                            Telefone: +244 987 654 321<br>
                                            Luanda, Angola
                                        </p>
                                    </div>
                                    <div class="col-md-6 text-end">
                                        <div class="border-top pt-3 mt-3">
                                            <p>Assinatura Digital</p>
                                            <img src="../../../assets/img/brand/signature.png" alt="Assinatura"
                                                style="height: 50px;">
                                            <p class="text-muted">Equipe WASOM UPFY</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                            <button type="button" class="btn btn-wasomupfy" id="print-receipt-btn">
                                <i class="bi bi-printer me-2"></i> Imprimir Recibo
                            </button>
                            <button type="button" class="btn btn-success" id="download-receipt-btn">
                                <i class="bi bi-download me-2"></i> Baixar PDF
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Modal de Criação de Pagamento -->
            <div class="modal fade" id="addPaymentModal" tabindex="-1" aria-hidden="true">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title"><i class="bi bi-plus-circle me-2"></i>Registrar Novo Pagamento</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <form id="create-payment-form">
                            <div class="modal-body">
                                <div class="form-section">
                                    <h6><i class="bi bi-person-badge me-2"></i> Informações do Usuário</h6>
                                    <div class="row g-3 mt-2">
                                        <div class="col-md-6">
                                            <label for="payment-user-email" class="form-label">E-mail do
                                                Usuário*</label>
                                            <input type="email" class="form-control" id="payment-user-email" required>
                                        </div>
                                        <div class="col-md-6">
                                            <label for="payment-user-name" class="form-label">Nome Completo*</label>
                                            <input type="text" class="form-control" id="payment-user-name" required>
                                        </div>
                                        <div class="col-md-6">
                                            <label for="payment-user-phone" class="form-label">Telefone*</label>
                                            <input type="tel" class="form-control" id="payment-user-phone" required>
                                        </div>
                                        <div class="col-md-6">
                                            <label for="payment-user-country" class="form-label">País*</label>
                                            <select class="form-select" id="payment-user-country" required>
                                                <option value="">Selecione um país</option>
                                                <option value="AO">Angola</option>
                                                <option value="PT">Portugal</option>
                                                <option value="BR">Brasil</option>
                                                <option value="MZ">Moçambique</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-section mt-3">
                                    <h6><i class="bi bi-credit-card me-2"></i> Detalhes do Pagamento</h6>
                                    <div class="row g-3 mt-2">
                                        <div class="col-md-6">
                                            <label for="payment-plan" class="form-label">Plano*</label>
                                            <select class="form-select" id="payment-plan" required>
                                                <option value="">Selecione um plano</option>
                                                <option value="single">Single - 2.000 KZ</option>
                                                <option value="album">Album - 5.000 KZ</option>
                                                <option value="artist">Artista - 11.400 KZ/2ano</option>
                                                <option value="label">Label - 70.000 KZ/2ano</option>
                                            </select>
                                        </div>
                                        <div class="col-md-6">
                                            <label for="payment-amount" class="form-label">Valor (KZ)*</label>
                                            <input type="number" step="0.01" class="form-control" id="payment-amount"
                                                required>
                                        </div>
                                        <div class="col-md-6">
                                            <label for="payment-method" class="form-label">Método de Pagamento*</label>
                                            <select class="form-select" id="payment-method" required>
                                                <option value="">Selecione um método</option>
                                                <option value="pix">PIX</option>
                                                <option value="credit_card">Cartão de Crédito</option>
                                                <option value="bank_transfer">Transferência Bancária</option>
                                                <option value="iban">IBAN</option>
                                                <option value="express">Express</option>
                                                <option value="paypal">PayPal</option>
                                                <option value="mpesa">MPesa</option>
                                            </select>
                                        </div>
                                        <div class="col-md-6">
                                            <label for="payment-status" class="form-label">Estado*</label>
                                            <select class="form-select" id="payment-status" required>
                                                <option value="pending">Em Análise</option>
                                                <option value="paid">Pago</option>
                                                <option value="approved">Aprovado</option>
                                                <option value="rejected">Recusado</option>
                                            </select>
                                        </div>
                                        <div class="col-md-6">
                                            <label for="payment-date" class="form-label">Data do Pagamento*</label>
                                            <input type="datetime-local" class="form-control" id="payment-date"
                                                required>
                                        </div>
                                        <div class="col-md-6">
                                            <label for="payment-reference"
                                                class="form-label">Referência/Transação</label>
                                            <input type="text" class="form-control" id="payment-reference"
                                                placeholder="Número da transação">
                                        </div>
                                    </div>
                                </div>

                                <div class="form-section mt-3">
                                    <h6><i class="bi bi-paperclip me-2"></i> Anexos</h6>
                                    <div class="mt-2">
                                        <div class="mb-3">
                                            <label for="payment-attachment" class="form-label">Comprovante de
                                                Pagamento</label>
                                            <input class="form-control" type="file" id="payment-attachment"
                                                accept="image/*,.pdf">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary"
                                    data-bs-dismiss="modal">Cancelar</button>
                                <button type="submit" class="btn btn-wasomupfy">
                                    <i class="bi bi-save me-2"></i> Registrar Pagamento
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Modal de Confirmação de Exclusão (VERSÃO MELHORADA) -->
            <div class="modal fade" id="deletePaymentModal" tabindex="-1" aria-hidden="true">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header bg-danger text-white">
                            <h5 class="modal-title"><i class="bi bi-exclamation-triangle-fill me-2"></i>Confirmar
                                Exclusão</h5>
                            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                                aria-label="Close"></button>
                        </div>
                        <form id="delete-payment-form">
                            <div class="modal-body">
                                <div id="delete-payment-details"></div>

                                <div class="mt-4 p-3 border rounded bg-light-100">
                                    <h6><i class="bi bi-shield-lock me-2"></i>Autenticação de Segurança</h6>
                                    <p class="small text-muted">Para confirmar esta ação crítica, digite sua senha de
                                        administrador:</p>
                                    <div class="mb-3">
                                        <label for="admin-password" class="form-label">Senha de Administrador*</label>
                                        <div class="input-group">
                                            <input type="password" class="form-control" id="admin-password" required>
                                            <button class="btn btn-outline-secondary" type="button"
                                                id="toggle-password">
                                                <i class="bi bi-eye"></i>
                                            </button>
                                        </div>
                                        <small class="text-muted">Senha padrão: admin123 (para demonstração)</small>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                                    <i class="bi bi-x-circle me-2"></i>Cancelar
                                </button>
                                <button type="submit" class="btn btn-danger">
                                    <i class="bi bi-trash3-fill me-2"></i>Excluir Permanentemente
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- Modal logout -->
    <div class="modal fade" id="logoutwasomupfy" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
        aria-labelledby="logoutwasomupfyLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content modal-bottom">
                <div class="modal-header">
                    <h1 class="modal-title fs-5 text-dark" id="logoutwasomupfyLabel">Terminar sessão</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="container">
                        <div class="row justify-content-center text-center">
                            <div class="col-md-12 content-center justify-center text-center">
                                <p class="text-center text-dark">@josembengadacosta você tem
                                    certeza
                                    de que desejas terminar
                                    sessão?</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <div>
                        <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Não,
                            continuar</button>
                    </div>
                    <div>
                        <button class="btn btn-danger" type="button" name="logout_wasomupfy"
                            onclick="logout_wasomupfy()">Sim, terminar</button>
                    </div>
                    <script type="text/javascript">
                        function logout_wasomupfy() {
                            window.location = 'logout';
                        }
                    </script>
                </div>
            </div>
        </div>
    </div>


    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-12 text-center">
                    <p class="mb-2">© 2026 Wasom Upfy. Todos os direitos reservados.</p>
                    <a href="#" class="me-2">Termos de Uso</a>
                    <a href="#" class="me-2">Privacidade</a>
                    <a href="#">Suporte</a>
                </div>
            </div>
        </div>
    </footer>

    <div class="page-loader" id="pageLoader">
        <div class="loader-content">
            <!-- Sua imagem pulsante -->
            <img src="../../../assets/img/brand/wasomupfy_brand.png" class="loader-image" alt="Carregando">
            <!-- Barra de progresso agora perfeitamente centralizada -->
            <div class="loader-progress"></div>
        </div>
    </div>

    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- DataTables -->
    <script src="https://cdn.datatables.net/v/bs5/dt-1.13.6/datatables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
    <!-- html2pdf -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <!-- Custom JS for Payments Page -->
    <script src="../../../js/lastest.js"></script>
    <script src="js/payments.js"></script>
    <script src="data/database.payments.js"></script>

</body>
</html>