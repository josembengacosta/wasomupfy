// Funções de formatação
        function formatarComEscala(valor, prefixo = '', casasDecimais = 1) {
            const escalas = [
                { limite: 1000000000000, sufixo: 'T', divisor: 1000000000000 },
                { limite: 1000000000, sufixo: 'B', divisor: 1000000000 },
                { limite: 1000000, sufixo: 'M', divisor: 1000000 },
                { limite: 1000, sufixo: 'mil', divisor: 1000 }
            ];
            
            for (const escala of escalas) {
                if (Math.abs(valor) >= escala.limite) {
                    const valorReduzido = (valor / escala.divisor).toFixed(casasDecimais);
                    return prefixo + (valorReduzido.endsWith('.0') 
                        ? valorReduzido.slice(0, -2) + escala.sufixo 
                        : valorReduzido.replace('.', ',') + escala.sufixo);
                }
            }
            return prefixo + valor.toLocaleString('pt-AO');
        }

        function formatarMoeda(valor) {
            if (valor >= 1000 || valor <= -1000) {
                return formatarComEscala(valor, 'Kz', 1);
            }
            return 'Kz' + valor.toLocaleString('pt-AO', {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            });
        }

        function formatarPorcentagem(valor) {
            return valor.toLocaleString('pt-AO', {
                minimumFractionDigits: 1,
                maximumFractionDigits: 2
            }) + '%';
        }

        function formatarDecimal(valor) {
            return valor.toLocaleString('pt-AO', {
                minimumFractionDigits: 1,
                maximumFractionDigits: 4
            });
        }

        function formatarContagem(valor) {
            return formatarComEscala(Math.round(valor), '', 1);
        }

        // Sistema principal
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.counter_ws[data-valor]').forEach(el => {
                const valorFinal = parseFloat(el.dataset.valor);
                const tipo = el.dataset.tipo;
                const duracao = 2000;
                const startTime = performance.now();
                
                const animar = (currentTime) => {
                    const progresso = Math.min((currentTime - startTime) / duracao, 1);
                    const valorAtual = progresso * valorFinal;
                    
                    switch(tipo) {
                        case 'moeda': el.textContent = formatarMoeda(valorAtual); break;
                        case 'porcentagem': el.textContent = formatarPorcentagem(valorAtual); break;
                        case 'decimal': el.textContent = formatarDecimal(valorAtual); break;
                        case 'contagem': el.textContent = formatarContagem(valorAtual); break;
                    }
                    
                    if (progresso < 1) {
                        requestAnimationFrame(animar);
                    } else {
                        // Garante valor final exato
                        switch(tipo) {
                            case 'moeda': el.textContent = formatarMoeda(valorFinal); break;
                            case 'porcentagem': el.textContent = formatarPorcentagem(valorFinal); break;
                            case 'decimal': el.textContent = formatarDecimal(valorFinal); break;
                            case 'contagem': el.textContent = formatarContagem(valorFinal); break;
                        }
                    }
                };
                
                requestAnimationFrame(animar);
            });
        });